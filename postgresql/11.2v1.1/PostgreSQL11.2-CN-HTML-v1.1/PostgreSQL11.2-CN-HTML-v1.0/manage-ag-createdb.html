<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>22.2. 创建一个数据库</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="manage-ag-overview.html" title="22.1. 概述" /><link rel="next" href="manage-ag-templatedbs.html" title="22.3. 模板数据库" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">22.2. 创建一个数据库</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="manage-ag-overview.html" title="22.1. 概述">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="managing-databases.html" title="第 22 章 管理数据库">上一级</a></td><th width="60%" align="center">第 22 章 管理数据库</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 11.2 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="manage-ag-templatedbs.html" title="22.3. 模板数据库">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="MANAGE-AG-CREATEDB"><div class="titlepage"><div><div><h2 class="title" style="clear: both">22.2. 创建一个数据库</h2></div></div></div><a id="id-1.6.9.5.2" class="indexterm"></a><p>
   为了创建一个数据库，<span class="productname">PostgreSQL</span>服务器必须启动并运行（见<a class="xref" href="server-start.html" title="18.3. 启动数据库服务器">第 18.3 节</a>）。
  </p><p>
   数据库用 SQL 命令<a class="xref" href="sql-createdatabase.html" title="CREATE DATABASE"><span class="refentrytitle">CREATE DATABASE</span></a>创建：
</p><pre class="synopsis">
CREATE DATABASE <em class="replaceable"><code>name</code></em>;
</pre><p>
   其中<em class="replaceable"><code>name</code></em>遵循<acronym class="acronym">SQL</acronym>标识符的一般规则。当前角色自动成为该新数据库的拥有者。以后删除这个数据库也是该拥有者的特权（同时还会删除其中的所有对象，即使那些对象有不同的拥有者）。
  </p><p>
   创建数据库是一个受限的操作。如何授权请见<a class="xref" href="role-attributes.html" title="21.2. 角色属性">第 21.2 节</a>。
  </p><p>
   因为你需要连接到数据库服务器来执行<code class="command">CREATE DATABASE</code>命令， 那么还有一个问题是任意给定站点的<span class="emphasis"><em>第一个</em></span>数据库是怎样创建的？第一个数据库总是由<code class="command">initdb</code>命令在初始化数据存储区域时创建的（见<a class="xref" href="creating-cluster.html" title="18.2. 创建一个数据库集簇">第 18.2 节</a>）。这个数据库被称为<code class="literal">postgres</code><a id="id-1.6.9.5.6.6" class="indexterm"></a>。因此要创建第一个<span class="quote">“<span class="quote">普通</span>”</span>数据库时，你可以连接到<code class="literal">postgres</code>。
  </p><p>
   在数据库集簇初始化期间也会创建第二个数据库<code class="literal">template1</code>,<a id="id-1.6.9.5.7.2" class="indexterm"></a>。当在集簇中创建一个新数据库时，实际上就是克隆了<code class="literal">template1</code>。这就意味着你对<code class="literal">template1</code>所做的任 何修改都会体现在所有随后创建的数据库中。因此应避免在<code class="literal">template1</code>中创建对象，除非你想把它们传播到每一个新创建的数据库中。详见<a class="xref" href="manage-ag-templatedbs.html" title="22.3. 模板数据库">第 22.3 节</a>。
  </p><p>
   为了方便，你还可以用一个程序来创建新数据库：
   <code class="command">createdb</code>。<a id="id-1.6.9.5.8.2" class="indexterm"></a>

</p><pre class="synopsis">
createdb <em class="replaceable"><code>dbname</code></em>
</pre><p>

   <code class="command">createdb</code>没什么神奇的。它连接到<code class="literal">postgres</code>数据库并且发出<code class="command">CREATE DATABASE</code>命令，和前面介绍的完全一样。<a class="xref" href="app-createdb.html" title="createdb"><span class="refentrytitle"><span class="application">createdb</span></span></a>参考页包含了调用细节。注意不带任何参数的<code class="command">createdb</code>将创建一个使用当前用户名的数据库。
  </p><div class="note"><h3 class="title">注意</h3><p>
     <a class="xref" href="client-authentication.html" title="第 20 章 客户端认证">第 20 章</a>包含有关如何限制谁能连接到一个给定数据库的信息。
   </p></div><p>
   有时候你想为其他人创建一个数据库，并且使其成为新数据库的拥有者，
   这样他们就可以自己配置和管理这个数据库。要实现这个目标，使用下列命令之一：
   用于 SQL 环境的
</p><pre class="programlisting">
CREATE DATABASE <em class="replaceable"><code>dbname</code></em> OWNER <em class="replaceable"><code>rolename</code></em>;
</pre><p>
   或者用于 shell 的
</p><pre class="programlisting">
createdb -O <em class="replaceable"><code>rolename</code></em> <em class="replaceable"><code>dbname</code></em>
</pre><p>
   只有超级用户才被允许为其他人（即为一个你不是其成员的角色）创建一个数据库。
  </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="manage-ag-overview.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="managing-databases.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="manage-ag-templatedbs.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">22.1. 概述 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 22.3. 模板数据库</td></tr></table></div></body></html>