<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>F.23. passwordcheck</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="pageinspect.html" title="F.22. pageinspect" /><link rel="next" href="pgbuffercache.html" title="F.24. pg_buffercache" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">F.23. passwordcheck</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="pageinspect.html" title="F.22. pageinspect">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="contrib.html" title="附录 F. 额外提供的模块">上一级</a></td><th width="60%" align="center">附录 F. 额外提供的模块</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 11.2 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="pgbuffercache.html" title="F.24. pg_buffercache">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="PASSWORDCHECK"><div class="titlepage"><div><div><h2 class="title" style="clear: both">F.23. passwordcheck</h2></div></div></div><a id="id-1.11.7.32.2" class="indexterm"></a><p>
  只要通过<a class="xref" href="sql-createrole.html" title="CREATE ROLE"><span class="refentrytitle">CREATE ROLE</span></a>或<a class="xref" href="sql-alterrole.html" title="ALTER ROLE"><span class="refentrytitle">ALTER ROLE</span></a>设置用户，
  <code class="filename">passwordcheck</code>模块会检查用户的口令。如果一个口令被认为太弱，它将被拒绝并且该命令将带着一个错误终止。
 </p><p>
  要启用这个模块，把<code class="literal">'$libdir/passwordcheck'</code>加入到<code class="filename">postgresql.conf</code>中的<a class="xref" href="runtime-config-client.html#GUC-SHARED-PRELOAD-LIBRARIES">shared_preload_libraries</a>，然后重启服务器。
 </p><p>
  你可以通过修改源代码来按你的需要修改这个模块。例如，你可以使用<a class="ulink" href="https://sourceforge.net/projects/cracklib/" target="_top">CrackLib</a>来检查口令 — 这只需要在<code class="filename">Makefile</code>中取消两行的注释并且重新编译该模块（由于授权原因，我们不能默认包括<span class="productname">CrackLib</span>）。如果没有<span class="productname">CrackLib</span>，该模块会对口令强度强制一些简单的规则，你可以自行修改和扩充。
 </p><div class="caution"><h3 class="title">小心</h3><p>
   要阻止未加密的口令被通过网络传送、写入到服务器日志或者被一个数据库管理员窃取，<span class="productname">PostgreSQL</span>允许用户提供预加密的口令。很多客户端程序利用这种功能并且在把口令发送给服务器之前加密它。
  </p><p>
   这限制了<code class="filename">passwordcheck</code>模块的有用性，因为这种情况下它只能尝试猜测口令。由于这个原因，如果你的安全性需求很高，我们不推荐<code class="filename">passwordcheck</code>。使用一个诸如 GSSAPI （见<a class="xref" href="client-authentication.html" title="第 20 章 客户端认证">第 20 章</a>）的外部认证方法比依赖数据库内的口令更加安全。
  </p><p>
   此外，你可以修改<code class="filename">passwordcheck</code>来拒绝预加密的口令，但是强制用户将口令设置为明文带来了它的安全风险。
  </p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pageinspect.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="contrib.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="pgbuffercache.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">F.22. pageinspect </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> F.24. pg_buffercache</td></tr></table></div></body></html>