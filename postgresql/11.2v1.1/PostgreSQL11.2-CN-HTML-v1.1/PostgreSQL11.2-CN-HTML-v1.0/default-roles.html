<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>21.5. 默认角色</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="role-removal.html" title="21.4. 删除角色" /><link rel="next" href="perm-functions.html" title="21.6. 函数和触发器安全性" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">21.5. 默认角色</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="role-removal.html" title="21.4. 删除角色">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="user-manag.html" title="第 21 章 数据库角色">上一级</a></td><th width="60%" align="center">第 21 章 数据库角色</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 11.2 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="perm-functions.html" title="21.6. 函数和触发器安全性">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="DEFAULT-ROLES"><div class="titlepage"><div><div><h2 class="title" style="clear: both">21.5. 默认角色</h2></div></div></div><a id="id-1.6.8.9.2" class="indexterm"></a><p>
   <span class="productname">PostgreSQL</span>提供了一组默认角色，它们提供对特定的、通常需要的、需要特权的功能和信息的访问。管理员可以把这些角色GRANT给其环境中的用户或者其他角色，让这些用户能够访问指定的功能和信息。
  </p><p>
   <a class="xref" href="default-roles.html#DEFAULT-ROLES-TABLE" title="表 21.1. 默认角色">表 21.1</a>中描述了默认的角色。注意由于额外功能的增加，每一种默认角色相关的权限可能会在未来被改变。管理员应该关注发行注记中提到的这方面的变化。
  </p><div class="table" id="DEFAULT-ROLES-TABLE"><p class="title"><strong>表 21.1. 默认角色</strong></p><div class="table-contents"><table class="table" summary="默认角色" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>角色</th><th>允许的访问</th></tr></thead><tbody><tr><td>pg_read_all_settings</td><td>读取所有配置变量，甚至是那些通常只对超级用户可见的变量。</td></tr><tr><td>pg_read_all_stats</td><td>读取所有的pg_stat_*视图并且使用与扩展相关的各种统计信息，甚至是那些通常只对超级用户可见的信息。</td></tr><tr><td>pg_stat_scan_tables</td><td>执行可能会在表上取得<code class="literal">ACCESS SHARE</code>锁的监控函数（可能会持锁很长时间）。</td></tr><tr><td>pg_signal_backend</td><td>向其他后端发送信号（例如：取消查询、中止）。</td></tr><tr><td>pg_read_server_files</td><td>允许使用COPY以及其他文件访问函数从服务器上该数据库可访问的任意位置读取文件。</td></tr><tr><td>pg_write_server_files</td><td>允许使用COPY以及其他文件访问函数在服务器上该数据库可访问的任意位置中写入文件。</td></tr><tr><td>pg_execute_server_program</td><td>允许用运行该数据库的用户执行数据库服务器上的程序来配合COPY和其他允许执行服务器端程序的函数。</td></tr><tr><td>pg_monitor</td><td>读取/执行各种监控视图和函数。这个角色是<code class="literal">pg_read_all_settings</code>、<code class="literal">pg_read_all_stats</code>以及<code class="literal">pg_stat_scan_tables</code>的成员。</td></tr></tbody></table></div></div><br class="table-break" /><p>
  <code class="literal">pg_read_server_files</code>、<code class="literal">pg_write_server_files</code>以及<code class="literal">pg_execute_server_program</code>角色的目的是允许管理员有一些可信但不是超级用户的角色来访问文件以及以运行数据库的用户在数据库服务器上运行程序。由于这些角色能够防伪服务器文件系统上的任何文件，因此在直接访问文件时它们会绕过任何数据库级别的权限检查并且它们可以被用来得到超级用户级别的访问，因此在把这些角色授予给用户时应当非常小心。
  </p><p>
  <code class="literal">pg_monitor</code>、<code class="literal">pg_read_all_settings</code>、<code class="literal">pg_read_all_stats</code>和<code class="literal">pg_stat_scan_tables</code>角色的目的是允许管理员能为监控数据库服务器的目的很容易地配置角色。它们授予一组常用的特权，这些特权允许角色读取各种有用的配置设置、统计信息以及通常仅限于超级用户的其他系统信息。
  </p><p>
  在授予这些角色时应当非常小心，以确保它们只被用在需要的地方，并且要理解这些角色会授予对特权信息的访问。
  </p><p>
   管理员可以用GRANT命令把对这些角色的访问授予给用户：

</p><pre class="programlisting">
GRANT pg_signal_backend TO admin_user;
</pre><p>
  </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="role-removal.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="user-manag.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="perm-functions.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">21.4. 删除角色 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 21.6. 函数和触发器安全性</td></tr></table></div></body></html>