<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>5.6. 权限</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="ddl-alter.html" title="5.5. 修改表" /><link rel="next" href="ddl-rowsecurity.html" title="5.7. 行安全性策略" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">5.6. 权限</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="ddl-alter.html" title="5.5. 修改表">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="ddl.html" title="第 5 章 数据定义">上一级</a></td><th width="60%" align="center">第 5 章 数据定义</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 11.2 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="ddl-rowsecurity.html" title="5.7. 行安全性策略">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="DDL-PRIV"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.6. 权限</h2></div></div></div><a id="id-1.5.4.8.2" class="indexterm"></a><a id="id-1.5.4.8.3" class="indexterm"></a><a id="id-1.5.4.8.4" class="indexterm"></a><a id="id-1.5.4.8.5" class="indexterm"></a><a id="id-1.5.4.8.6" class="indexterm"></a><p>
   一旦一个对象被创建，它会被分配一个所有者。所有者通常是执行创建语句的角色。对于大部分类型的对象，初始状态下只有所有者（或者超级用户）能够对该对象做任何事情。为了允许其他角色使用它，必须分配<em class="firstterm">权限</em>。
  </p><p>
   有多种不同的权限：<code class="literal">SELECT</code>、<code class="literal">INSERT</code>、<code class="literal">UPDATE</code>、<code class="literal">DELETE</code>、<code class="literal">TRUNCATE</code>、<code class="literal">REFERENCES</code>、<code class="literal">TRIGGER</code>、<code class="literal">CREATE</code>、<code class="literal">CONNECT</code>、<code class="literal">TEMPORARY</code>、<code class="literal">EXECUTE</code>以及<code class="literal">USAGE</code>。可以应用于一个特定对象的权限随着对象的类型（表、函数等）而不同。<span class="productname">PostgreSQL</span>所支持的不同类型的完整权限信息请参考<a class="xref" href="sql-grant.html" title="GRANT"><span class="refentrytitle">GRANT</span></a>。下面的章节将简单介绍如何使用这些权限。
  </p><p>
   修改或销毁一个对象的权力通常是只有所有者才有的权限。
  </p><p>
   一个对象可以通过该对象类型相应的<code class="command">ALTER</code>命令来重新分配所有者，例如<a class="xref" href="sql-altertable.html" title="ALTER TABLE"><span class="refentrytitle">ALTER TABLE</span></a>。超级用户总是可以做到这点，普通角色只有同时是对象的当前所有者（或者是拥有角色的一个成员）以及新拥有角色的一个成员时才能做同样的事。
  </p><p>
   要分配权限，可以使用<code class="command">GRANT</code>命令。例如，如果<code class="literal">joe</code>是一个已有角色，而<code class="literal">accounts</code>是一个已有表，更新该表的权限可以按如下方式授权：
</p><pre class="programlisting">
GRANT UPDATE ON accounts TO joe;
</pre><p>
   用<code class="literal">ALL</code>取代特定权限会把与对象类型相关的所有权限全部授权。
  </p><p>
   一个特殊的名为<code class="literal">PUBLIC</code>的<span class="quote">“<span class="quote">角色</span>”</span>可以用来向系统中的每一个角色授予一个权限。同时，在数据库中有很多用户时可以设置<span class="quote">“<span class="quote">组</span>”</span>角色来帮助管理权限。详见<a class="xref" href="user-manag.html" title="第 21 章 数据库角色">第 21 章</a>。
  </p><p>
   为了撤销一个权限，使用<code class="command">REVOKE</code>命令：
</p><pre class="programlisting">
REVOKE ALL ON accounts FROM PUBLIC;
</pre><p>
   对象拥有者的特殊权限（即执行<code class="command">DROP</code>、<code class="command">GRANT</code>、<code class="command">REVOKE</code>等的权力）总是隐式地属于拥有者，并且不能被授予或撤销。但是对象拥有者可以选择撤销他们自己的普通权限，例如把一个表变得对他们自己和其他人只读。
  </p><p>
   一般情况下，只有对象拥有者（或者超级用户）可以授予或撤销一个对象上的权限。但是可以在授予权限时使用<span class="quote">“<span class="quote">with grant option</span>”</span>来允许接收人将权限转授给其他人。如果后来授予选项被撤销，则所有从接收人那里获得的权限（直接或者通过授权链获得）都将被撤销。更多详情请见<a class="xref" href="sql-grant.html" title="GRANT"><span class="refentrytitle">GRANT</span></a>和<a class="xref" href="sql-revoke.html" title="REVOKE"><span class="refentrytitle">REVOKE</span></a>参考页。
  </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ddl-alter.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="ddl.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="ddl-rowsecurity.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">5.5. 修改表 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 5.7. 行安全性策略</td></tr></table></div></body></html>