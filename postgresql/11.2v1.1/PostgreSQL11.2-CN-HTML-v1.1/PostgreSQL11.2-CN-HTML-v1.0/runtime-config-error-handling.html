<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>19.14. 错误处理</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="runtime-config-compatible.html" title="19.13. 版本和平台兼容性" /><link rel="next" href="runtime-config-preset.html" title="19.15. 预置选项" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">19.14. 错误处理</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="runtime-config-compatible.html" title="19.13. 版本和平台兼容性">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="runtime-config.html" title="第 19 章 服务器配置">上一级</a></td><th width="60%" align="center">第 19 章 服务器配置</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 11.2 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="runtime-config-preset.html" title="19.15. 预置选项">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="RUNTIME-CONFIG-ERROR-HANDLING"><div class="titlepage"><div><div><h2 class="title" style="clear: both">19.14. 错误处理</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="GUC-EXIT-ON-ERROR"><span class="term"><code class="varname">exit_on_error</code> (<code class="type">boolean</code>)
      <a id="id-1.6.6.17.2.1.1.3" class="indexterm"></a></span></dt><dd><p>
        如果为真，任何错误将中止当前会话。默认情况下，这个值被设置为假，这样只有 FATAL 错误（致命）将中止会话。
       </p></dd><dt id="GUC-RESTART-AFTER-CRASH"><span class="term"><code class="varname">restart_after_crash</code> (<code class="type">boolean</code>)
      <a id="id-1.6.6.17.2.2.1.3" class="indexterm"></a></span></dt><dd><p>
        当被设置为真（默认值）时，<span class="productname">PostgreSQL</span>将在一次后端崩溃后自动重新初始化。让这个值设置为真通常是将数据库可用性最大化的最佳方法。但是在某些环境中，例如<span class="productname">PostgreSQL</span>被集群软件调用时，禁用重启可能很有用，这样集群软件可以得到控制并且采取它认为适当的行动。
       </p></dd><dt id="GUC-DATA-SYNC-RETRY"><span class="term"><code class="varname">data_sync_retry</code> (<code class="type">boolean</code>)
      <a id="id-1.6.6.17.2.3.1.3" class="indexterm"></a>
      </span></dt><dd><p>
        如果设置为false（默认值），<span class="productname">PostgreSQL</span>在将修改的数据文件刷新到文件系统失败时，将引发PANIC级错误。这样会导致数据库服务器崩溃。
       </p><p>
        在某些操作系统上，回写失败后，内核页面缓存中的数据状态未知。 在某些情况下，它可能已被完全遗忘，因此重试不安全；第二次尝试可能报告为成功，而事实上数据已丢失。在此类情形下，避免数据丢失的唯一方法是在报告任何故障后从WAL中恢复，最好是在调查了故障的根本原因并更换了任何有故障的硬件之后。
       </p><p>
        如果设置为true，<span class="productname">PostgreSQL</span>将报告错误，但会继续运行，以便可以在以后的检查点中重试数据刷新操作。仅在调查操作系统假如回写失败时对缓冲数据的处理方式的情况下，才将其设置为true。
       </p></dd></dl></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="runtime-config-compatible.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="runtime-config.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="runtime-config-preset.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">19.13. 版本和平台兼容性 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 19.15. 预置选项</td></tr></table></div></body></html>