<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>16.2. 要求</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="install-short.html" title="16.1. 简单版" /><link rel="next" href="install-getsource.html" title="16.3. 获取源码" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">16.2. 要求</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="install-short.html" title="16.1. 简单版">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="installation.html" title="第 16 章 从源代码安装">上一级</a></td><th width="60%" align="center">第 16 章 从源代码安装</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 12.2 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="install-getsource.html" title="16.3. 获取源码">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="INSTALL-REQUIREMENTS"><div class="titlepage"><div><div><h2 class="title" style="clear: both">16.2. 要求</h2></div></div></div><p>
   一般说来，一个现代的与 Unix 兼容的平台应该就能运行<span class="productname">PostgreSQL</span>。 到发布为止已经明确测试过的平台的列表在 <a class="xref" href="supported-platforms.html" title="16.6. 平台支持">第 16.6 节</a>中进行了描述。
  </p><p>
   编译<span class="productname">PostgreSQL</span>需要下列软件包：

   </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
      <a id="id-1.6.3.6.3.2.1.1.1" class="indexterm"></a>

      要求<acronym class="acronym">GNU</acronym> <span class="application">make</span>版本3.80或以上；其他的<span class="application">make</span>程序或更老的<acronym class="acronym">GNU</acronym> <span class="application">make</span>版本将<span class="emphasis"><em>不会</em></span>工作（<acronym class="acronym">GNU</acronym> <span class="application">make</span>有时以名字<code class="filename">gmake</code>安装）。要测试<acronym class="acronym">GNU</acronym> <span class="application">make</span>可以输入：
</p><pre class="screen">
<strong class="userinput"><code>make --version</code></strong>
</pre><p>
     </p></li><li class="listitem"><p>
      你需要一个<acronym class="acronym">ISO</acronym>/<acronym class="acronym">ANSI</acronym> C 编译器（至少是 C99兼容的）。我们推荐使用最近版本的<span class="productname">GCC</span>，不过，众所周知的是<span class="productname">PostgreSQL</span>可以利用许多不同厂商的不同编译器进行编译。
     </p></li><li class="listitem"><p>
      除了<span class="application">gzip</span>和<span class="application">bzip2</span>之外，我们还需要<span class="application">tar</span>来解包源代码发布。
     </p></li><li class="listitem"><p>
      <a id="id-1.6.3.6.3.2.4.1.1" class="indexterm"></a>
      <a id="id-1.6.3.6.3.2.4.1.2" class="indexterm"></a>

      默认时将自动使用<acronym class="acronym">GNU</acronym> <span class="productname">Readline</span>库。它允许<span class="application">psql</span>（PostgreSQL的命令行 SQL 解释器）记住你输入的每一个命令并且允许你使用箭头键来找回和编辑之前的命令。如果你不想用它，那么你必需给<code class="filename">configure</code>声明<code class="option">--without-readline</code>选项。作为一种可选方案，你常常可以使用 BSD许可证的<code class="filename">libedit</code>库，它最初是在<span class="productname">NetBSD</span>上开发的。<code class="filename">libedit</code>库是GNU <span class="productname">Readline</span>兼容的， 如果没有发现<code class="filename">libreadline</code>或者<code class="filename">configure</code>使用了<code class="option">--with-libedit-preferred</code>选项，都会使用这个库。如果你使用的是一个基于包的 Linux 发布，那么要注意你需要<code class="literal">readline</code>和<code class="literal">readline-devel</code>两个包，特别是如果这两个包在你的版本里是分开的时候。
     </p></li><li class="listitem"><p>
      <a id="id-1.6.3.6.3.2.5.1.1" class="indexterm"></a>

      默认的时候将使用<span class="productname">zlib</span>压缩库。 如果你不想使用它，那么你必须给<code class="filename">configure</code>声明<code class="option">--without-zlib</code>选项。使用这个选项关闭了在<span class="application">pg_dump</span>和<span class="application">pg_restore</span>中对压缩归档的支持。
     </p></li></ul></div><p>
  </p><p>
   下列包是可选的。在默认配置的时候并不要求它们，但是如果打开了一些编译选项之后就需要它们了，如下文所解释的：

   </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
      要编译服务器端编程语言<span class="application">PL/Perl</span>，你需要一个完整的
      <span class="productname">Perl</span>安装，包括<code class="filename">libperl</code>
      库和头文件。
	  所需的最低版本是<span class="productname">Perl</span> 5.8.3。
	  因为<span class="application">PL/Perl</span>是一个共享库，
      <a id="id-1.6.3.6.4.1.1.1.6" class="indexterm"></a>
      <code class="filename">libperl</code>库在大多数平台上也必须是一个共享库。最近的版本的
      <span class="productname">Perl</span>好像已经默认这样做了，但是早先的版本可不是
      这样的，而且这总是一种在站点上安装 Perl 的选择。如果选择了编译
      <span class="application">PL/Perl</span>但是它却找不到一个共享的
      <code class="filename">libperl</code>，那么<code class="filename">configure</code>将会失败。
      在这种情况下，你将不得不重新手工编译并且安装<span class="productname">Perl</span>
      以便能编译<span class="application">PL/Perl</span>。在
      <span class="productname">Perl</span>的配置处理过程中，需要一个共享库。
     </p><p>
      如果你想更多地使用<span class="application">PL/Perl</span>，
      你应当保证<span class="productname">Perl</span>安装在编译时启用了
      <code class="literal">usemultiplicity</code>选项（<code class="literal">perl -V</code>将会显示是否是这样）。
     </p></li><li class="listitem"><p>
      要编译<span class="application">PL/Python</span>服务器端编程语言， 你需要一个<span class="productname">Python</span>的安装，包括头文件和<span class="application">distutils</span>模块。最低的版本要求是<span class="productname">Python</span> 2.4。如果是版本3.1或更高版本，则支持<span class="productname">Python 3</span>，
      如果使用 Python 3 请参考<a class="xref" href="plpython-python23.html" title="45.1. Python 2 vs. Python 3">第 45.1 节</a>
     </p><p>
      因为<span class="application">PL/Python</span>将以共享库的方式编译，
      <a id="id-1.6.3.6.4.1.2.2.2" class="indexterm"></a> 
      <code class="filename">libpython</code>库在大多数平台上也必须是一个共享库。
      在默认的从源码安装<span class="productname">Python</span>时不是这样的，
      而是在很多操作系统发布中有一个共享库可用。如果选择了编译
      <span class="application">PL/Python</span>但找不到一个共享的
      <code class="filename">libpython</code>，<code class="filename">configure</code>将
      会失败。这可能意味着你不得不安装额外的包或者（部分）重编译
      <span class="productname">Python</span>安装以提供这个共享库。
      在从源码编译时，请用<code class="literal">--enable-shared</code>标志运行
      <span class="productname">Python</span>的配置脚本。
     </p></li><li class="listitem"><p>
      如果你想编译<span class="application">PL/Tcl</span>过程语言， 
      你当然需要安装<span class="productname">Tcl</span>，要求的最低版本是
      <span class="productname">Tcl</span> 8.4。
     </p></li><li class="listitem"><p>
      要打开本地语言支持（<acronym class="acronym">NLS</acronym>），也就是说， 用英语之外的语言显示程序的消息，你需要一个<span class="application">Gettext</span> <acronym class="acronym">API</acronym>的实现。有些操作系统内置了这些（例如<span class="systemitem">Linux</span>、<span class="systemitem">NetBSD</span>、<span class="systemitem">Solaris</span>）， 对于其它系统，你可以从<a class="ulink" href="http://www.gnu.org/software/gettext/" target="_top">http://www.gnu.org/software/gettext/</a>下载一个额外的包。如果你在使用<acronym class="acronym">GNU</acronym> C 库里面的<span class="application">Gettext</span>实现， 那么你就额外需要<span class="productname">GNU Gettext</span>包，因为我们需要里面的几个工具程序。对于任何其它的实现，你应该不需要它。
     </p></li><li class="listitem"><p>
      如果您想支持加密的客户端连接，则需要<span class="productname">OpenSSL</span>，在没有<code class="filename">/dev/urandom</code>的平台上(Windows除外)，还需要 <span class="productname">OpenSSL</span>作为随机数生成器。最低的版本要求是0.9.8。
     </p></li><li class="listitem"><p>
      如果你想支持使用<span class="application">Kerberos</span>、<span class="productname">OpenLDAP</span>和/或<span class="application">PAM</span>服务的认证，那你需要相应的包。
     </p></li><li class="listitem"><p>
      要编译<span class="productname">PostgreSQL</span>文档，有一些独立的要求集，请见
      <a class="xref" href="docguide-toolsets.html" title="J.2. 工具集">第 J.2 节</a>。
     </p></li></ul></div><p>
  </p><p>
   如果你正从<span class="productname">Git</span>树而不是使用发布的源代码包进行编译，或者你想做服务器端开发， 那么你还需要下面的包：

   </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
      <a id="id-1.6.3.6.5.2.1.1.1" class="indexterm"></a>
      <a id="id-1.6.3.6.5.2.1.1.2" class="indexterm"></a>
      <a id="id-1.6.3.6.5.2.1.1.3" class="indexterm"></a>
      <a id="id-1.6.3.6.5.2.1.1.4" class="indexterm"></a>

      如果你需要从 Git 检出中编译，或者你修改了实际的扫描器和分析器的定义文件， 那么你需要 GNU <span class="application">Flex</span>和<span class="application">Bison</span>。 如果你需要它们，那么确保自己拿到的是<span class="application">Flex</span> 2.5.31 或更新的版本， 以及<span class="application">Bison</span> 1.875 或者更新的版本。不能使用其他<span class="application">lex</span>和<span class="application">yacc</span>程序。
     </p></li><li class="listitem"><p>
      <a id="id-1.6.3.6.5.2.2.1.1" class="indexterm"></a>

      如果需要从 Git 检出中编译，或者你修改了任何使用 Perl 脚本的编译步骤的输入文件，那么你需要<span class="application">Perl</span> 5.8.3或以后的版本。如果你在 Windows 上编译，你在任何情况下都需要<span class="application">Perl</span>。运行一些测试套件时也需要<span class="application">Perl</span>。
     </p></li></ul></div><p>
  </p><p>
   如果你需要获取<acronym class="acronym">GNU</acronym>包，你可以在你的本地<acronym class="acronym">GNU</acronym>镜像站点 （看看 <a class="ulink" href="https://www.gnu.org/prep/ftp" target="_top">https://www.gnu.org/prep/ftp</a>或<a class="ulink" href="ftp://ftp.gnu.org/gnu/" target="_top">ftp://ftp.gnu.org/gnu/</a>找到它们。
  </p><p>
   还要检查一下你是否有足够的磁盘空间。你将大概需要近 100MB 用于存放编译过程中的源码树和大约 20 MB 用于安装目录。 一个空数据库集簇大概需要 35 MB。一个数据库所占的空间大约是存储同样数据的平面文件所占空间的五倍。如果你要运行回归测试，还临时需要额外的 150MB。请用<code class="command">df</code>命令检查剩余磁盘空间。
  </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="install-short.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="installation.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="install-getsource.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">16.1. 简单版 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 16.3. 获取源码</td></tr></table></div></body></html>