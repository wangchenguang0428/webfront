<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>51.88. pg_stats</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="view-pg-shadow.html" title="51.87. pg_shadow" /><link rel="next" href="view-pg-stats-ext.html" title="51.89. pg_stats_ext" /></head><body><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">51.88. <code xmlns="http://www.w3.org/1999/xhtml" class="structname">pg_stats</code></th></tr><tr><td width="10%" align="left"><a accesskey="p" href="view-pg-shadow.html" title="51.87. pg_shadow">上一页</a> </td><td width="10%" align="left"><a accesskey="u" href="catalogs.html" title="第 51 章 系统目录">上一级</a></td><th width="60%" align="center">第 51 章 系统目录</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="PostgreSQL 12.2 手册">起始页</a></td><td width="10%" align="right"> <a accesskey="n" href="view-pg-stats-ext.html" title="51.89. pg_stats_ext">下一页</a></td></tr></table><hr></hr></div><div class="sect1" id="VIEW-PG-STATS"><div class="titlepage"><div><div><h2 class="title" style="clear: both">51.88. <code class="structname">pg_stats</code></h2></div></div></div><a id="id-1.10.4.90.2" class="indexterm"></a><p>
   视图<code class="structname">pg_stats</code>提供对存储在<a class="link" href="catalog-pg-statistic.html" title="51.50. pg_statistic"><code class="structname">pg_statistic</code></a>目录中信息的访问。此视图能访问<code class="structname">pg_statistic</code>行是有限制的，可访问行所对应的表必须是用户有读权限的。因此让所有用户都可以读此视图是安全的。
  </p><p>
   <code class="structname">pg_stats</code>也被设计为能以更适合阅读的格式显示底层目录的信息— 但代价是只要为<code class="structname">pg_statistic</code>定义了新的槽类型，就必须要扩展此视图的模式。
  </p><div class="table" id="id-1.10.4.90.5"><p class="title"><strong>表 51.89. <code class="structname">pg_stats</code>的列</strong></p><div class="table-contents"><table class="table" summary="pg_stats的列" border="1"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>名称</th><th>类型</th><th>引用</th><th>描述</th></tr></thead><tbody><tr><td><code class="structfield">schemaname</code></td><td><code class="type">name</code></td><td><code class="literal"><a class="link" href="catalog-pg-namespace.html" title="51.32. pg_namespace"><code class="structname">pg_namespace</code></a>.nspname</code></td><td>包含表的模式名</td></tr><tr><td><code class="structfield">tablename</code></td><td><code class="type">name</code></td><td><code class="literal"><a class="link" href="catalog-pg-class.html" title="51.11. pg_class"><code class="structname">pg_class</code></a>.relname</code></td><td>表名</td></tr><tr><td><code class="structfield">attname</code></td><td><code class="type">name</code></td><td><code class="literal"><a class="link" href="catalog-pg-attribute.html" title="51.7. pg_attribute"><code class="structname">pg_attribute</code></a>.attname</code></td><td>被此行描述的列名</td></tr><tr><td><code class="structfield">inherited</code></td><td><code class="type">bool</code></td><td> </td><td>如果为真，表示此行包括继承子列，不仅仅是指定表中的值</td></tr><tr><td><code class="structfield">null_frac</code></td><td><code class="type">real</code></td><td> </td><td>列项中为空的比例</td></tr><tr><td><code class="structfield">avg_width</code></td><td><code class="type">integer</code></td><td> </td><td>列项的平均字节宽度</td></tr><tr><td><code class="structfield">n_distinct</code></td><td><code class="type">real</code></td><td> </td><td>
       如果大于零，表示列中可区分值的估计个数。如果小于零，是可区分值个数除以行数的负值（当<code class="command">ANALYZE</code>认为可区分值的数量会随着表增长而增加时采用负值的形式，而如果认为列具有固定数量的可选值时采用正值的形式）。例如，-1表示一个唯一列，即其中可区分值的个数等于行数。
      </td></tr><tr><td><code class="structfield">most_common_vals</code></td><td><code class="type">anyarray</code></td><td> </td><td>
       列中最常用值的一个列表（如果没有任何一个值看起来比其他值更常用，此列为空）
      </td></tr><tr><td><code class="structfield">most_common_freqs</code></td><td><code class="type">real[]</code></td><td> </td><td>
       最常用值的频率列表，即每一个常用值的出现次数除以总行数（如果<code class="structfield">most_common_vals</code>为空，则此列为空）
      </td></tr><tr><td><code class="structfield">histogram_bounds</code></td><td><code class="type">anyarray</code></td><td> </td><td>
       将列值划分成大小接近的组的值列表。如果存在<code class="structfield">most_common_vals</code>，其中的值会被直方图计算所忽略（如果列类型没有一个<code class="literal">&lt;</code>操作符或者<code class="structfield">most_common_vals</code>等于整个值集合，则此列为空）
      </td></tr><tr><td><code class="structfield">correlation</code></td><td><code class="type">real</code></td><td> </td><td>
       物理行顺序和列值逻辑顺序之间的统计关联。其范围从-1到+1。当值接近-1或+1时，在列上的一个索引扫描被认为比值接近0时的代价更低，因为这种情况减少了对磁盘的随机访问（如果列数据类型不具有一个<code class="literal">&lt;</code>操作符，则此列为空）
      </td></tr><tr><td><code class="structfield">most_common_elems</code></td><td><code class="type">anyarray</code></td><td> </td><td>
       在列值中，最经常出现的非空元素列表（对标度类型为空）
      </td></tr><tr><td><code class="structfield">most_common_elem_freqs</code></td><td><code class="type">real[]</code></td><td> </td><td>
       最常用元素值的频度列表，即含有至少一个给定值实例的行的分数。在每个元素的频度之后有二至三个附加值，它们是每个元素频度的最小和最大值，以及可选的空元素的频度（如果<code class="structfield">most_common_elems</code>为空，则此列为空）
      </td></tr><tr><td><code class="structfield">elem_count_histogram</code></td><td><code class="type">real[]</code></td><td> </td><td>
       在列值中可区分非空元素值计数的一个直方图，后面跟随可区分非空元素的平均数（对于标度类型为空）
      </td></tr></tbody></table></div></div><br class="table-break" /><p>
   在数组域中项的最大数目可以使用<code class="command">ALTER TABLE SET STATISTICS</code>命令控制，或者设置<a class="xref" href="runtime-config-query.html#GUC-DEFAULT-STATISTICS-TARGET">default_statistics_target</a>运行时参数从全局上进行控制
  </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="view-pg-shadow.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="catalogs.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="view-pg-stats-ext.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">51.87. <code class="structname">pg_shadow</code> </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 51.89. <code class="structname">pg_stats_ext</code></td></tr></table></div></body></html>