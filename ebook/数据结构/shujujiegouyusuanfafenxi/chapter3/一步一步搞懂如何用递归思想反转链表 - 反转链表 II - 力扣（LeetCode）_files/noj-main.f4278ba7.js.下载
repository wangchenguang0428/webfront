(window.nojMonomainwebpackJsonpproduction=window.nojMonomainwebpackJsonpproduction||[]).push([[93],{"4YUL":function(e,t,a){"use strict";a.d(t,"a",(function(){return I}));var n,i=a("D57K"),r=a("DuHN"),o=(a("IJu9"),a("pE6G")),c=a("cLgN"),s=a("nUi0"),u=a("0Spe"),l=a("FWdR"),d=a("q/oC"),p=a("SpHq"),b=a("pN2L"),_=a("gQst"),g=a("HnWI"),O=a("rzNM"),j=a("mhnT"),f=a("U3QC"),m=a("4HYP"),y=a("z5yO"),h=a("Jg5f"),v=a("eb+u"),A=a("AouM"),S=a("R+ki"),E=a("W/Ou"),L=a("B07F"),w=a("w+fZ"),P=a("l8fx"),F=a("wUZp"),k=a("P6sJ"),D=a("GGvj"),C=a("U1OO"),T=a("jjbn"),x=a("bf6q"),q=a("q2Xj");!function(e){e.Form="form",e.Success="success"}(n||(n={}));var I=function(e){function t(t,a,i){var r=e.call(this)||this;return r.client=t,r.logger=a,r.axios=i,r.defaultState={contest:{hasRegistered:!1,sponsors:[],contests:[],titleSlug:"",loading:!0,description:"",rules:"",awards:"",disclosure:"",detailUrl:"",registrationClosingTime:0,subtitle:"",titleCn:"",startTime:0},collegeList:{list:[],loading:!0},signUpModal:{signUpStep:n.Form,selectedCollege:null,visible:!1},popularityList:{list:[],sharedCollegeName:null,searchStr:"",searchedList:[],loading:!1,upvotedIds:new Set},rankList:{list:[],loading:!1}},r}var a,p,I,M,N,U,R,W,H,z,B,Y,G,Q,V,J,K,Z;return Object(i.__extends)(t,e),t.prototype.getContest=function(e){var t=this;return e.pipe(Object(O.a)((function(e){return t.client.query({query:k.a,variables:{slug:e},fetchPolicy:"network-only"}).pipe(Object(j.a)(t.dispose$),Object(f.a)((function(e){var a=e.errors;t.logger.if(!!a).error("get contest error",{errors:a})})),Object(m.b)((function(a){var n=a.data;return Object(b.a)(t.createAction("finish")({data:n}),t.createActionFrom(t.getCollegeList)(e),t.createActionFrom(t.updateSignUpStepWithRegisterStatus)(n.contestGroup.hasRegistered))})),Object(F.a)("get contest http error"))})))},t.prototype.getCollegeList=function(e,t){var a=this,n=e.pipe(Object(O.a)((function(e){return a.client.query({query:D.a,variables:{contestGroupSlug:e},fetchPolicy:"cache-first"}).pipe(Object(f.a)((function(e){var t=e.errors;t&&(a.logger.error("fetch college list error ",{errors:t}),r.b.error("\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u5237\u65b0\u9875\u9762\u91cd\u8bd5"))})),Object(y.a)((function(e){return!e.errors})),Object(h.a)((function(e){return e.data.allSchoolInfoUrl})))})),Object(j.a)(this.dispose$)),o=t.pipe(Object(h.a)((function(e){return e.userStatus})));return n.pipe(Object(v.a)(o),Object(O.a)((function(e){var t=Object(i.__read)(e,2),n=t[0],r=t[1];return a.axios.get(n,{withCredentials:!(!r||!r.isAdmin)})})),Object(m.b)((function(e){return Object(b.a)(a.createAction("finish")(e),a.createActionFrom(a.getPopularityList)(e))})))},t.prototype.getPopularityList=function(e,t){var a=this,n=t.pipe(Object(h.a)((function(e){return e.collegeContest.contest.titleSlug})));return e.pipe(Object(v.a)(n),Object(A.a)((function(e){var t=Object(i.__read)(e,2),n=t[0],r=t[1];return a.client.query({query:C.a,variables:{contestGroupSlug:r},fetchPolicy:"network-only"}).pipe(Object(f.a)((function(e){var t=e.errors;a.logger.if(!!t).error("get popularity list error",{errors:t})})),Object(h.a)((function(e){var t=e.data;return a.createAction("finish")({collegeList:n,data:t.contestGroupSchoolStats})})),Object(F.a)("get popularity list http error"))})))},t.prototype.searchPopularityList=function(e){return Object(_.a)(e.pipe(Object(h.a)(this.createAction("setSearchStr"))),e.pipe(Object(S.a)(500),Object(h.a)(this.createAction("search")))).pipe(Object(j.a)(this.dispose$))},t.prototype.setPopularityOrderBySharedCollege=function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{popularityList:Object(i.__assign)(Object(i.__assign)({},e.popularityList),{sharedCollegeName:a})})},t.prototype.updateLogo=function(e){var t=this;return e.pipe(Object(O.a)((function(e){var a=e.id,n=e.logo;return t.client.mutate({mutation:T.a,variables:{schoolId:a,url:n}}).pipe(Object(f.a)((function(e){var a=e.errors;t.logger.if(!!a).error("upload college logo error",{errors:a})})),Object(F.a)("upload college logo http error"),Object(h.a)((function(){return t.createAction("finish")({id:a,logo:n})})))})))},t.prototype.confirmSchoolLogo=function(e){var t=this;return e.pipe(Object(O.a)((function(e){return t.client.mutate({mutation:x.a,variables:{schoolId:e}}).pipe(Object(f.a)((function(e){var a=e.errors;t.logger.if(!!a).error("confirm college logo error",{errors:a})})),Object(F.a)("confirm college logo http error"),Object(h.a)((function(){return t.createAction("finish")(e)})))})))},t.prototype.upvoteSchool=function(e,t){var a=this,n=t.pipe(Object(h.a)((function(e){return e.collegeContest.contest.titleSlug})));return e.pipe(Object(v.a)(n),Object(O.a)((function(e){var t=Object(i.__read)(e,2),n=t[0],o=t[1];return a.client.mutate({mutation:q.a,variables:{schoolId:n,contestGroupSlug:o}}).pipe(Object(f.a)((function(e){var t=e.errors;a.logger.if(!!t).error("confirm college logo error",{errors:t})})),Object(f.a)((function(e){var t=e.data;t.contestUserUpvoteSchool.msg&&r.b.info(t.contestUserUpvoteSchool.msg)})),Object(y.a)((function(e){var t=e.data;return!e.errors&&!t.contestUserUpvoteSchool.error})),Object(h.a)((function(e){return e.data.contestUserUpvoteSchool.msg?a.createAction("exist")(n):a.createAction("finish")(n)})),Object(F.a)("confirm college logo http error"))})))},t.prototype.showSignUpModal=function(e){return Object(i.__assign)(Object(i.__assign)({},e),{signUpModal:Object(i.__assign)(Object(i.__assign)({},e.signUpModal),{visible:!0})})},t.prototype.hideSignUpModal=function(e){return Object(i.__assign)(Object(i.__assign)({},e),{signUpModal:Object(i.__assign)(Object(i.__assign)({},e.signUpModal),{visible:!1})})},t.prototype.setSignUpModalSelectedCollege=function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{signUpModal:Object(i.__assign)(Object(i.__assign)({},e.signUpModal),{selectedCollege:t.payload||null})})},t.prototype.updateSignUpStepWithRegisterStatus=function(e,t){return t.payload?Object(i.__assign)(Object(i.__assign)({},e),{signUpModal:Object(i.__assign)(Object(i.__assign)({},e.signUpModal),{signUpStep:n.Success,loading:!1})}):e},t.prototype.getRankList=function(e){var t=this;return e.pipe(Object(O.a)((function(e){return t.axios.get("/contest/api/contest_group/"+e+"/ranking?pagination=1").pipe(Object(h.a)((function(e){var a=e.submissions,n=e.total_rank,i=n?n.slice(0,20).map((function(e){var t=e.rank,n=e.username,i=e.school_name,r=e.score,o=e.total_time_used;return{rank:t,name:n,school:i,count:a?Object.keys(a[t]).length:0,score:r,usedTime:Math.round(o)}})):[];return t.createAction("finish")({list:i})})),Object(E.a)(t.createAction("loading")()),Object(F.a)("\u83b7\u53d6\u6392\u540d\u5217\u8868\u5931\u8d25"))})))},Object(i.__decorate)([Object(c.a)(),Object(i.__metadata)("design:type","function"===typeof(a="undefined"!==typeof g.a&&g.a)?a:Object)],t.prototype,"dispose$",void 0),Object(i.__decorate)([Object(s.a)({finish:function(e,t){var a=t.payload;if(!a.data)return e;var n=a.data.contestGroup,r=n.contests;return Object(i.__assign)(Object(i.__assign)({},e),{contest:Object(i.__assign)(Object(i.__assign)({},n),{contests:Object(i.__spread)(r).sort((function(e,t){return e.startTime-t.startTime})),loading:!1})})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(p="undefined"!==typeof g.a&&g.a)?p:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"getContest",null),Object(i.__decorate)([Object(s.a)({finish:function(e,t){var a=t.payload;return a?Object(i.__assign)(Object(i.__assign)({},e),{collegeList:{list:a,loading:!1}}):e}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(I="undefined"!==typeof g.a&&g.a)?I:Object,"function"===typeof(M="undefined"!==typeof u.a&&u.a)?M:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"getCollegeList",null),Object(i.__decorate)([Object(s.a)({finish:function(e,t){var a,n=t.payload,r=n.collegeList,o=n.data,c=new Map(Object(i.__spread)(o).map((function(e){return[e.schoolId,Object(i.__assign)({},e)]}))),s=r.filter((function(e){var t=e.id;return c.has(t)})).map((function(e){return Object(i.__assign)(Object(i.__assign)({},e),c.get(e.id))})).sort((function(e,t){return t.upvoteCount-e.upvoteCount})).map((function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{order:t+1})})),u=e.popularityList.sharedCollegeName,l=u?s.filter((function(e){return e.name!==u||(a=e,!1)})):s;return Object(i.__assign)(Object(i.__assign)({},e),{popularityList:Object(i.__assign)(Object(i.__assign)({},e.popularityList),{loading:!1,list:Object(i.__spread)(a?[a]:[],l)})})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(N="undefined"!==typeof g.a&&g.a)?N:Object,"function"===typeof(U="undefined"!==typeof u.a&&u.a)?U:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"getPopularityList",null),Object(i.__decorate)([Object(s.a)({setSearchStr:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{popularityList:Object(i.__assign)(Object(i.__assign)({},e.popularityList),{searchStr:a||"",loading:!0})})},search:function(e,t){var a=t.payload;return a?Object(i.__assign)(Object(i.__assign)({},e),{popularityList:Object(i.__assign)(Object(i.__assign)({},e.popularityList),{searchedList:e.popularityList.list.filter((function(e){return e.name.includes(a)})),loading:!1})}):Object(i.__assign)(Object(i.__assign)({},e),{popularityList:Object(i.__assign)(Object(i.__assign)({},e.popularityList),{searchedList:[],loading:!1})})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(R="undefined"!==typeof g.a&&g.a)?R:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"searchPopularityList",null),Object(i.__decorate)([Object(l.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(W="undefined"!==typeof o.Action&&o.Action)?W:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setPopularityOrderBySharedCollege",null),Object(i.__decorate)([Object(s.a)({finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{popularityList:Object(i.__assign)(Object(i.__assign)({},e.popularityList),{list:e.popularityList.list.map((function(e){return e.id===a.id?Object(i.__assign)(Object(i.__assign)({},e),{logo:a.logo}):e})),searchedList:e.popularityList.searchedList.length?e.popularityList.searchedList.map((function(e){return e.id===a.id?Object(i.__assign)(Object(i.__assign)({},e),{logo:a.logo}):e})):[]})})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(H="undefined"!==typeof g.a&&g.a)?H:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"updateLogo",null),Object(i.__decorate)([Object(s.a)({finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{popularityList:Object(i.__assign)(Object(i.__assign)({},e.popularityList),{list:e.popularityList.list.map((function(e){return e.id===a?Object(i.__assign)(Object(i.__assign)({},e),{logo:e.logoUserLatestUpload,logoUserLatestUpload:""}):e})),searchedList:e.popularityList.searchedList.length?e.popularityList.searchedList.map((function(e){return e.id===a?Object(i.__assign)(Object(i.__assign)({},e),{logo:e.logoUserLatestUpload,logoUserLatestUpload:""}):e})):[]})})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(z="undefined"!==typeof g.a&&g.a)?z:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"confirmSchoolLogo",null),Object(i.__decorate)([Object(s.a)({finish:function(e,t){var a=t.payload,n=new Set(Object(i.__spread)(e.popularityList.upvotedIds,[a]));return Object(i.__assign)(Object(i.__assign)({},e),{popularityList:Object(i.__assign)(Object(i.__assign)({},e.popularityList),{list:e.popularityList.list.map((function(e){return e.id===a?Object(i.__assign)(Object(i.__assign)({},e),{upvoteCount:e.upvoteCount+1}):e})),upvotedIds:n})})},exist:function(e,t){var a=t.payload,n=new Set(Object(i.__spread)(e.popularityList.upvotedIds,[a]));return Object(i.__assign)(Object(i.__assign)({},e),{popularityList:Object(i.__assign)(Object(i.__assign)({},e.popularityList),{upvotedIds:n})})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(B="undefined"!==typeof g.a&&g.a)?B:Object,"function"===typeof(Y="undefined"!==typeof u.a&&u.a)?Y:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"upvoteSchool",null),Object(i.__decorate)([Object(l.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"showSignUpModal",null),Object(i.__decorate)([Object(l.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"hideSignUpModal",null),Object(i.__decorate)([Object(l.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(G="undefined"!==typeof o.Action&&o.Action)?G:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setSignUpModalSelectedCollege",null),Object(i.__decorate)([Object(l.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(Q="undefined"!==typeof o.Action&&o.Action)?Q:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"updateSignUpStepWithRegisterStatus",null),Object(i.__decorate)([Object(s.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{rankList:Object(i.__assign)(Object(i.__assign)({},e.rankList),{loading:!0})})},finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{rankList:{list:a.list,loading:!1}})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(V="undefined"!==typeof g.a&&g.a)?V:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"getRankList",null),t=Object(i.__decorate)([Object(d.a)("CollegeContest"),Object(i.__metadata)("design:paramtypes",["function"===typeof(J="undefined"!==typeof L.a&&L.a)?J:Object,"function"===typeof(K="undefined"!==typeof w.a&&w.a)?K:Object,"function"===typeof(Z="undefined"!==typeof P.a&&P.a)?Z:Object])],t)}(p.a)},"5J51":function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n={};a.r(n),a.d(n,"desktopMinWidth",(function(){return _})),a.d(n,"desktopMaxWidth",(function(){return g})),a.d(n,"mobileMinWidth",(function(){return O})),a.d(n,"mobileMaxWidth",(function(){return j}));var i={};a.r(i),a.d(i,"mobileDisplay",(function(){return f})),a.d(i,"desktopDisplay",(function(){return m}));var r,o,c,s=a("D57K"),u=a("TMWK"),l=a("ERkP"),d=a.n(l),p=a("DWJo"),b=a.n(p),_="1032px",g="1220px",O="320px",j="600px",f="@media (max-width: "+n.mobileMaxWidth+")",m="@media (max-width: "+n.desktopMaxWidth+")",y=a("eCyH"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.__extends)(t,e),t.prototype.render=function(){return window.location.pathname.startsWith("/problemset/")?(setTimeout((function(){return window.location.reload()}),500),null):d.a.createElement(d.a.Fragment,null,d.a.createElement(y.a,null),d.a.createElement(v,null,d.a.createElement(A,{src:b.a}),d.a.createElement(S,null,d.a.createElement(E,null,d.a.createElement("h2",null,"\u9875\u9762\u4e0d\u5b58\u5728"),d.a.createElement("p",null,"\u62b1\u6b49\uff01\u6211\u4eec\u627e\u4e0d\u5230\u60a8\u60f3\u8bbf\u95ee\u7684\u9875\u9762...")))))},t}(l.PureComponent),v=Object(u.a)("div",{target:"ehzuaf30"})(((r={display:"flex",flexDirection:"row",justifyContent:"center",maxWidth:n.desktopMaxWidth,margin:"200px auto"})[i.mobileDisplay]={margin:"40 20",flexDirection:"column"},r),"label:Wrapper;"),A=Object(u.a)("img",{target:"ehzuaf31"})(((o={width:270,height:"auto",display:"block",marginRight:20,alignSelf:"center"})[i.mobileDisplay]={width:"100%",marginRight:0},o),"label:NotFoundImg;"),S=Object(u.a)("div",{target:"ehzuaf32"})(((c={display:"flex"})[i.mobileDisplay]={width:"100%",marginTop:20},c),"label:NotFoundInfo;"),E=Object(u.a)("div",{target:"ehzuaf33"})({alignSelf:"center",button:{marginTop:20}},"label:VerticalMiddleDiv;")},"5PYC":function(e,t){e.exports="https://static.leetcode-cn.com/cn-mono-assets/production/assets/leetcode-bottom.055257c1.png"},"8g9W":function(e,t,a){"use strict";a.d(t,"a",(function(){return q}));var n=a("D57K"),i=a("pE6G"),r=a("cLgN"),o=a("nUi0"),c=a("0Spe"),s=a("FWdR"),u=a("q/oC"),l=a("SpHq"),d=a("HnWI"),p=a("z5yO"),b=a("Q7Gm"),_=a("eb+u"),g=a("AouM"),O=a("U3QC"),j=a("Jg5f"),f=a("W/Ou"),m=a("rzNM"),y=a("R+ki"),h=a("B07F"),v=a("w+fZ"),A=a("wUZp"),S=a("ejgJ"),E=a("YrHu"),L=a("oFzR"),w=a("cl3B"),P=a("nLNW"),F=a("mzra"),k=a("eKGS"),D=a("gAJM"),C=a("+syZ"),T=a("NON7"),x=10,q=function(e){function t(t,a){var n=e.call(this)||this;return n.client=t,n.logger=a,n.defaultState={articleList:{articles:[],totalNum:0,pageNo:1,pageSize:x,loading:!0},draftList:{drafts:[],loading:!0,totalNum:0,pageNo:1,pageSize:x},searchedArticleList:{keyword:"",articles:[],totalNum:0,pageNo:1,pageSize:x,loading:!0},draftDeletingStatus:{loading:!1,ok:null}},n}var a,l,q,I,M,N,U,R,W,H,z,B,Y,G,Q,V,J,K;return Object(n.__extends)(t,e),t.prototype.getArticleList=function(e,t){var a=this,i=t.pipe(Object(p.a)((function(e){return!!e.userStatus})),Object(b.a)("userStatus","userSlug"));return e.pipe(Object(_.a)(i),Object(g.a)((function(e){var t=Object(n.__read)(e,2),i=t[0],r=t[1];return a.client.query({query:S.a,variables:{userSlug:r,skip:i?i.skip:0,first:i?i.first:x,query:i?i.query:""},fetchPolicy:"network-only"}).pipe(Object(O.a)((function(e){var t=e.errors;a.logger.if(!!t).error("fetch article list error",{errors:t})})),Object(j.a)(a.createAction("finish")),Object(A.a)("fetch article http error"),Object(f.a)(a.createAction("loading")()))})))},t.prototype.searchArticles=function(e,t){var a=this,i=t.pipe(Object(p.a)((function(e){return!!e.userStatus})),Object(b.a)("userStatus","userSlug"));return e.pipe(Object(_.a)(i),Object(g.a)((function(e){var t=Object(n.__read)(e,2),i=t[0],r=i.skip,o=void 0===r?0:r,c=i.first,s=void 0===c?x:c,u=i.query,l=void 0===u?"":u,d=t[1];return a.client.query({query:S.a,variables:{userSlug:d,skip:o,first:s,query:l},fetchPolicy:"network-only"}).pipe(Object(O.a)((function(e){var t=e.errors;a.logger.if(!!t).error("fetch article list error",{errors:t})})),Object(j.a)(a.createAction("finish")),Object(A.a)("fetch article http error"),Object(f.a)(a.createAction("loading")(l)))})))},t.prototype.setSearchedArticlesKeyword=function(e,t){var a=t.payload;return""===a.keyword?Object(n.__assign)(Object(n.__assign)({},e),{searchedArticleList:{keyword:"",articles:[],totalNum:0,pageNo:1,pageSize:x,loading:!0}}):Object(n.__assign)(Object(n.__assign)({},e),{searchedArticleList:Object(n.__assign)(Object(n.__assign)({},e.searchedArticleList),{keyword:a.keyword})})},t.prototype.setPageInfo=function(e,t){var a=t.payload;return"drafts"===a.tabViewType?Object(n.__assign)(Object(n.__assign)({},e),{draftList:Object(n.__assign)(Object(n.__assign)({},e.draftList),{pageNo:a.page,pageSize:a.pageSize})}):e.searchedArticleList.keyword?Object(n.__assign)(Object(n.__assign)({},e),{searchedArticleList:Object(n.__assign)(Object(n.__assign)({},e.searchedArticleList),{pageNo:a.page,pageSize:a.pageSize})}):Object(n.__assign)(Object(n.__assign)({},e),{articleList:Object(n.__assign)(Object(n.__assign)({},e.articleList),{pageNo:a.page,pageSize:a.pageSize})})},t.prototype.getDraftList=function(e){var t=this;return e.pipe(Object(g.a)((function(e){return t.client.query({query:E.a,variables:{skip:e?e.skip:0,first:e?e.first:x},fetchPolicy:"network-only"}).pipe(Object(O.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch draft list error",{errors:a})})),Object(A.a)("fetch draft http error"),Object(j.a)(t.createAction("finish")),Object(f.a)(t.createAction("loading")()))})))},t.prototype.deleteDraft=function(e){var t=this;return e.pipe(Object(m.a)((function(e){var a=e.slug;return t.client.mutate({mutation:L.a,variables:{slug:a}}).pipe(Object(O.a)((function(e){var a=e.errors;t.logger.if(!!a).error("delete error",{errors:a})})),Object(A.a)("delete draft http error"),Object(j.a)(t.createAction("finish")),Object(f.a)(t.createAction("loading")()))})))},t.prototype.resetDraftDeletingStatus=function(e){return Object(n.__assign)(Object(n.__assign)({},e),{draftDeletingStatus:{loading:!1,ok:null}})},t.prototype.upvoteArticle=function(e){var t=this;return e.pipe(Object(y.a)(300),Object(m.a)((function(e){return t.client.mutate({mutation:w.a,variables:{articleSlug:e}}).pipe(Object(O.a)((function(e){var a=e.errors;t.logger.if(!!a).error("upvote an article error",{errors:a})})),Object(j.a)((function(){return t.createActionFrom(t.getArticle)(e)})),Object(A.a)("upvote an article http error"))})))},t.prototype.cancelUpvoteArticle=function(e){var t=this;return e.pipe(Object(y.a)(300),Object(m.a)((function(e){return t.client.mutate({mutation:P.a,variables:{articleSlug:e}}).pipe(Object(O.a)((function(e){var a=e.errors;t.logger.if(!!a).error("cancel upvote an article error",{errors:a})})),Object(j.a)((function(){return t.createActionFrom(t.getArticle)(e)})),Object(A.a)("cancel upvote an article http error"))})))},t.prototype.addFavoriteArticle=function(e){var t=this;return e.pipe(Object(y.a)(300),Object(m.a)((function(e){return t.client.mutate({mutation:F.a,variables:{data:{articleSlug:e}}}).pipe(Object(O.a)((function(e){var a=e.errors;t.logger.if(!!a).error("mark an article as favorite error",{errors:a})})),Object(j.a)((function(){return t.createActionFrom(t.getArticle)(e)})),Object(A.a)("mark an article as favorite http error"))})))},t.prototype.removeFavoriteArticle=function(e){var t=this;return e.pipe(Object(y.a)(300),Object(m.a)((function(e){return t.client.mutate({mutation:k.a,variables:{data:{articleSlug:e}}}).pipe(Object(O.a)((function(e){var a=e.errors;t.logger.if(!!a).error("unmark an article as favorite error",{errors:a})})),Object(j.a)((function(){return t.createActionFrom(t.getArticle)(e)})),Object(A.a)("unmark an article as favorite http error"))})))},t.prototype.getArticle=function(e){var t=this;return e.pipe(Object(m.a)((function(e){return t.client.query({query:D.a,variables:{slug:e},fetchPolicy:"network-only"}).pipe(Object(O.a)((function(e){var a=e.errors;t.logger.if(!!a).error("get an article error",{errors:a})})),Object(A.a)("get an article http error"),Object(j.a)(t.createAction("update")))})))},t.prototype.addReaction=function(e){var t=this;return e.pipe(Object(y.a)(300),Object(m.a)((function(e){var a=e.articleSlug,n=e.articleId,i=e.reactionType;return t.client.mutate({mutation:C.a,variables:{articleId:n,reactionType:i}}).pipe(Object(O.a)((function(e){var a=e.errors;t.logger.if(!!a).error("add or update reaction error",{errors:a})})),Object(A.a)("add or update reaction http error"),Object(j.a)((function(){return t.createActionFrom(t.getArticle)(a)})))})))},t.prototype.removeReaction=function(e){var t=this;return e.pipe(Object(y.a)(300),Object(m.a)((function(e){var a=e.articleSlug,n=e.articleId;return t.client.mutate({mutation:T.a,variables:{articleId:n}}).pipe(Object(O.a)((function(e){var a=e.errors;t.logger.if(!!a).error("remove reaction error",{errors:a})})),Object(A.a)("remove reaction http error"),Object(j.a)((function(){return t.createActionFrom(t.getArticle)(a)})))})))},Object(n.__decorate)([Object(r.a)(),Object(n.__metadata)("design:type","function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object)],t.prototype,"disposeSearch$",void 0),Object(n.__decorate)([Object(o.a)({loading:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{articleList:Object(n.__assign)(Object(n.__assign)({},e.articleList),{totalNum:0,loading:!0})})},finish:function(e,t){var a=t.payload;if(a.errors)return Object(n.__assign)(Object(n.__assign)({},e),{articleList:Object(n.__assign)(Object(n.__assign)({},e.articleList),{articles:[],totalNum:0,loading:!1})});var i=a.data.solutionArticles.edges.map((function(e){return e.node}));return Object(n.__assign)(Object(n.__assign)({},e),{articleList:Object(n.__assign)(Object(n.__assign)({},e.articleList),{articles:i,totalNum:a.data.solutionArticles.totalNum,loading:!1})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(l="undefined"!==typeof d.a&&d.a)?l:Object,"function"===typeof(q="undefined"!==typeof c.a&&c.a)?q:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"getArticleList",null),Object(n.__decorate)([Object(o.a)({loading:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{searchedArticleList:Object(n.__assign)(Object(n.__assign)({},e.searchedArticleList),{totalNum:0,keyword:a,loading:!0})})},finish:function(e,t){var a=t.payload;if(a.errors)return Object(n.__assign)(Object(n.__assign)({},e),{searchedArticleList:Object(n.__assign)(Object(n.__assign)({},e.searchedArticleList),{articles:[],totalNum:0,loading:!1})});var i=a.data.solutionArticles.edges.map((function(e){return e.node}));return Object(n.__assign)(Object(n.__assign)({},e),{searchedArticleList:Object(n.__assign)(Object(n.__assign)({},e.searchedArticleList),{articles:i,totalNum:a.data.solutionArticles.totalNum,loading:!1})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(I="undefined"!==typeof d.a&&d.a)?I:Object,"function"===typeof(M="undefined"!==typeof c.a&&c.a)?M:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"searchArticles",null),Object(n.__decorate)([Object(s.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",[Object,"function"===typeof(N="undefined"!==typeof i.Action&&i.Action)?N:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"setSearchedArticlesKeyword",null),Object(n.__decorate)([Object(s.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",[Object,"function"===typeof(U="undefined"!==typeof i.Action&&i.Action)?U:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"setPageInfo",null),Object(n.__decorate)([Object(o.a)({loading:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{draftList:Object(n.__assign)(Object(n.__assign)({},e.draftList),{loading:!0})})},finish:function(e,t){var a=t.payload;return a.errors?Object(n.__assign)(Object(n.__assign)({},e),{draftList:Object(n.__assign)(Object(n.__assign)({},e.draftList),{drafts:[],loading:!1,totalNum:0})}):Object(n.__assign)(Object(n.__assign)({},e),{draftList:Object(n.__assign)(Object(n.__assign)({},e.draftList),{drafts:a.data.solutionDrafts.edges.map((function(e){return e.node})),loading:!1,totalNum:a.data.solutionDrafts.totalNum})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(R="undefined"!==typeof d.a&&d.a)?R:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"getDraftList",null),Object(n.__decorate)([Object(o.a)({loading:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{draftDeletingStatus:{loading:!0,ok:null}})},finish:function(e,t){var a=t.payload;return a.errors||a.data&&a.data.deleteArticle.error?Object(n.__assign)(Object(n.__assign)({},e),{draftDeletingStatus:{loading:!1,ok:!1}}):Object(n.__assign)(Object(n.__assign)({},e),{draftDeletingStatus:{loading:!1,ok:!0}})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(W="undefined"!==typeof d.a&&d.a)?W:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"deleteDraft",null),Object(n.__decorate)([Object(s.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",[Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"resetDraftDeletingStatus",null),Object(n.__decorate)([Object(o.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(H="undefined"!==typeof d.a&&d.a)?H:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"upvoteArticle",null),Object(n.__decorate)([Object(o.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(z="undefined"!==typeof d.a&&d.a)?z:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"cancelUpvoteArticle",null),Object(n.__decorate)([Object(o.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(B="undefined"!==typeof d.a&&d.a)?B:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"addFavoriteArticle",null),Object(n.__decorate)([Object(o.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(Y="undefined"!==typeof d.a&&d.a)?Y:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"removeFavoriteArticle",null),Object(n.__decorate)([Object(o.a)({update:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{articleList:Object(n.__assign)(Object(n.__assign)({},e.articleList),{articles:e.articleList.articles.map((function(e){return e.slug===a.data.solutionArticle.slug?a.data.solutionArticle:e}))})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(G="undefined"!==typeof d.a&&d.a)?G:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"getArticle",null),Object(n.__decorate)([Object(o.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(Q="undefined"!==typeof d.a&&d.a)?Q:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"addReaction",null),Object(n.__decorate)([Object(o.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(V="undefined"!==typeof d.a&&d.a)?V:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"removeReaction",null),t=Object(n.__decorate)([Object(u.a)("ArticleList"),Object(n.__metadata)("design:paramtypes",["function"===typeof(J="undefined"!==typeof h.a&&h.a)?J:Object,"function"===typeof(K="undefined"!==typeof v.a&&v.a)?K:Object])],t)}(l.a)},DWJo:function(e,t){e.exports="https://static.leetcode-cn.com/cn-mono-assets/production/assets/404_face.f3f9717f.png"},OESz:function(e,t,a){"use strict";a.d(t,"b",(function(){return j})),a.d(t,"a",(function(){return f}));var n=a("lXyA"),i=a.n(n),r=a("ERkP"),o=a.n(r),c=a("0cIN"),s=a("Cc9O"),u=a("iJR/"),l=a("U3QC"),d=a("4S5C"),p=a("z5yO"),b=a("G2Mx"),_=a("12aA"),g=a("tg+i"),O=i()((function(){var e=Object(c.a)(2e3).pipe(Object(l.a)((function(){return console.warn("loading timeout")}))),t=g.a.pipe(Object(d.a)((function(e,t){return e+t})),Object(p.a)((function(e){return 0===e})));return Object(s.a)(t,e).pipe(Object(b.a)(1),Object(_.a)(null)).toPromise()})),j=function(e,t){o.a.useEffect((function(){var t=Object(u.a)(O()).subscribe(e);return function(){return t.unsubscribe()}}),t)},f=function(){O().then((function(){var e=document.querySelector("#initial-loading"),t=document.querySelector("#initial-loading-style");window.prerenderReady=!0,e&&t&&(e.setAttribute("data-is-hide","true"),e.addEventListener("transitionend",(function(){e.parentNode.removeChild(e),t.parentNode.removeChild(t)})))}))}},X4a2:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var n=a("YnR9"),i=n.a.main.PATH,r=n.a.main.paths;n.a.legacy.PATH},Z3gL:function(e,t,a){e.exports={wrapper:"wrapper__1LqY",bg:"bg__32T7",logoWrapper:"logoWrapper__1fu_",logo:"logo__2sVI",footer:"footer__2qQR"}},as1A:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a("D57K"),i=a("9EWH"),r=a("nUi0"),o=a("q/oC"),c=a("SpHq"),s=a("pN2L"),u=a("HnWI"),l=a("rzNM"),d=a("Jg5f"),p=a("W/Ou"),b=a("R+ki"),_=a("AouM"),g=a("IMYO"),O=a("wUZp"),j=a("B07F"),f=a("/BBW"),m=a("hDkH"),y=a("9Jtd"),h=a("YgSO"),v=function(e){function t(t){var a=e.call(this)||this;return a.client=t,a.defaultState={unifiedNotification:{loading:!0,configs:[]},updateLoading:!1,privacyContact:{loading:!0,status:!1}},a}var a,c,v,A,S;return Object(n.__extends)(t,e),t.prototype.fetchUnifiedNotificationSetting=function(e){var t=this;return e.pipe(Object(l.a)((function(){return t.client.query({query:f.a,fetchPolicy:"network-only"}).pipe(Object(O.a)("\u83b7\u53d6\u901a\u77e5\u8bbe\u7f6e\u5931\u8d25",!0),Object(d.a)(t.createAction("finish")),Object(p.a)(t.createAction("loading")()))})))},t.prototype.updateUnifiedNotificationSetting=function(e){var t=this;return e.pipe(Object(b.a)(500),Object(_.a)((function(e){return t.client.mutate({mutation:m.a,variables:e,fallbackErrorMessageForUnknownError:"\u66f4\u6539\u901a\u77e5\u8bbe\u7f6e\u5931\u8d25"}).pipe(Object(d.a)((function(a){var n,i=a.data;return t.createAction("finish")({ok:!!(null===(n=i.updateUnifiedNotificationSettings)||void 0===n?void 0:n.result),variables:e})})),Object(p.a)(t.createAction("loading")()),Object(g.a)((function(){return Object(s.a)(t.createAction("error")())})))})))},t.prototype.getPrivacySetting=function(e){var t=this;return e.pipe(Object(l.a)((function(){return t.client.query({query:y.a,fetchPolicy:"network-only"}).pipe(Object(O.a)("\u83b7\u53d6\u9690\u79c1\u8bbe\u7f6e\u5931\u8d25",!0),Object(d.a)(t.createAction("finish")),Object(p.a)(t.createAction("loading")()))})))},t.prototype.togglePrivacyContact=function(e){var t=this;return e.pipe(Object(l.a)((function(e){return t.client.mutate({mutation:h.a,variables:{fieldName:"contact",value:e?0:1}}).pipe(Object(O.a)("\u66f4\u6539\u9690\u79c1\u8bbe\u7f6e\u5931\u8d25"),Object(d.a)(t.createAction("finish")),Object(p.a)(t.createAction("updating")(e)))})))},Object(n.__decorate)([Object(r.a)({loading:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{unifiedNotification:Object(n.__assign)(Object(n.__assign)({},e.unifiedNotification),{loading:!0})})},finish:function(e,t){var a,i=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{unifiedNotification:{loading:!1,configs:null===(a=i.data.notificationUnifiedSettings)||void 0===a?void 0:a.settings}})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof u.a&&u.a)?a:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"fetchUnifiedNotificationSetting",null),Object(n.__decorate)([Object(r.a)({finish:function(e,t){var a=t.payload,r=a.ok,o=a.variables;if(r){var c=Object(i.b)(e.unifiedNotification.configs,(function(e){var t=e.find((function(e){return e.identifier===o.configs[0].identifier}));t&&(t.enabledChannels=o.configs[0].enabledChannels)}));return Object(n.__assign)(Object(n.__assign)({},e),{updateLoading:!1,unifiedNotification:Object(n.__assign)(Object(n.__assign)({},e.unifiedNotification),{configs:c})})}return e},loading:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{updateLoading:!0})},error:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{updateLoading:!1})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof u.a&&u.a)?c:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"updateUnifiedNotificationSetting",null),Object(n.__decorate)([Object(r.a)({loading:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{privacyContact:Object(n.__assign)(Object(n.__assign)({},e.privacyContact),{loading:!0})})},finish:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{privacyContact:{loading:!1,status:a.data.user.profile.privacyContact}})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(v="undefined"!==typeof u.a&&u.a)?v:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"getPrivacySetting",null),Object(n.__decorate)([Object(r.a)({updating:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{privacyContact:Object(n.__assign)(Object(n.__assign)({},e.privacyContact),{status:!a})})},finish:function(e,t){var a=t.payload.data.updateProfile;return a&&a.ok?e:Object(n.__assign)(Object(n.__assign)({},e),{privacyContact:Object(n.__assign)(Object(n.__assign)({},e.privacyContact),{status:!e.privacyContact.status})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(A="undefined"!==typeof u.a&&u.a)?A:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"togglePrivacyContact",null),t=Object(n.__decorate)([Object(o.a)("notificationSetting"),Object(n.__metadata)("design:paramtypes",["function"===typeof(S="undefined"!==typeof j.a&&j.a)?S:Object])],t)}(c.a)},c17E:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"h",(function(){return _})),a.d(t,"a",(function(){return b})),a.d(t,"d",(function(){return g})),a.d(t,"f",(function(){return O})),a.d(t,"g",(function(){return j})),a.d(t,"i",(function(){return f})),a.d(t,"e",(function(){return m})),a.d(t,"c",(function(){return y}));var n,i,r,o,c,s,u,l,d=a("fgAA"),p=a("34li");!function(e){e.Accepted="\u5df2\u901a\u8fc7\u9898\u76ee",e.Failed="\u63d0\u4ea4\u672a\u901a\u8fc7\u9898\u76ee",e.Untouched="\u672a\u5f00\u59cb\u9898\u76ee"}(l||(l={}));var b,_=[[l.Accepted],[l.Failed],[l.Untouched]];!function(e){e.EASY="\u7b80\u5355",e.MEDIUM="\u4e2d\u7b49",e.HARD="\u56f0\u96be"}(b||(b={}));var g=((n={})[l.Failed]=((i={sum:d.a.red(5,.6)})[b.EASY]=d.a.red(5,.3),i[b.MEDIUM]=d.a.red(5,.6),i[b.HARD]=d.a.red(5,.9),i),n[l.Accepted]=((r={sum:d.a.green(5,.6)})[b.EASY]=d.a.green(5,.3),r[b.MEDIUM]=d.a.green(5,.6),r[b.HARD]=d.a.green(5,.9),r),n[l.Untouched]=((o={sum:d.a.grey(7,.6)})[b.EASY]=d.a.grey(7,.3),o[b.MEDIUM]=d.a.grey(7,.6),o[b.HARD]=d.a.grey(7,.9),o),n),O={lastSubmittedAt:p.Tb.LastSubmittedAt,translatedTitle:p.Tb.QuestionFrontendId,numSubmitted:p.Tb.NumSubmitted},j={descend:p.Ub.Descending,ascend:p.Ub.Ascending},f=((c={})[l.Accepted]=p.Wb.Accepted,c[l.Failed]=p.Wb.Failed,c[l.Untouched]=p.Wb.Untouched,c),m=((s={})[b.EASY]=p.G.Easy,s[b.MEDIUM]=p.G.Medium,s[b.HARD]=p.G.Hard,s[p.G.Easy]=b.EASY,s[p.G.Medium]=b.MEDIUM,s[p.G.Hard]=b.HARD,s),y=((u={})[p.G.Easy]=d.a.green(5),u[p.G.Medium]=d.a.yellow(5),u[p.G.Hard]=d.a.red(5),u)},e7Ho:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("11Hm"),i=Object(n.a)()},eSY7:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a("D57K"),i=a("nUi0"),r=a("q/oC"),o=a("SpHq"),c=a("HnWI"),s=a("rzNM"),u=a("Jg5f"),l=a("W/Ou"),d=a("wUZp"),p=a("B07F"),b=a("7Rih"),_=a("qNii"),g=function(e){function t(t){var a=e.call(this)||this;return a.client=t,a.defaultState={optedIn:{loading:!0,status:!0}},a}var a,o,g;return Object(n.__extends)(t,e),t.prototype.getBetaParticipation=function(e){var t=this;return e.pipe(Object(s.a)((function(){return t.client.query({query:b.a,fetchPolicy:"network-only"}).pipe(Object(d.a)("\u83b7\u53d6\u4f53\u9a8c\u8ba1\u5212\u8bbe\u7f6e\u5931\u8d25"),Object(u.a)(t.createAction("finish")),Object(l.a)(t.createAction("loading")()))})))},t.prototype.toggleBetaParticipation=function(e){var t=this;return e.pipe(Object(s.a)((function(e){return t.client.mutate({mutation:_.a,variables:{optIn:!e}}).pipe(Object(d.a)("\u66f4\u6539\u4f53\u9a8c\u8ba1\u5212\u5931\u8d25",!0),Object(u.a)(t.createAction("finish")),Object(l.a)(t.createAction("updating")(e)))})))},Object(n.__decorate)([Object(i.a)({loading:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{optedIn:Object(n.__assign)(Object(n.__assign)({},e.optedIn),{loading:!0})})},finish:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{optedIn:{loading:!1,status:a.data.userStatus.optedIn}})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof c.a&&c.a)?a:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"getBetaParticipation",null),Object(n.__decorate)([Object(i.a)({updating:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{optedIn:Object(n.__assign)(Object(n.__assign)({},e.optedIn),{status:!a})})},finish:function(e,t){var a=t.payload.data.updateBetaParticipation;return a&&a.ok?e:Object(n.__assign)(Object(n.__assign)({},e),{optedIn:Object(n.__assign)(Object(n.__assign)({},e.optedIn),{status:!e.optedIn.status})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof c.a&&c.a)?o:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"toggleBetaParticipation",null),t=Object(n.__decorate)([Object(r.a)("labSetting"),Object(n.__metadata)("design:paramtypes",["function"===typeof(g="undefined"!==typeof p.a&&p.a)?g:Object])],t)}(o.a)},hlut:function(e,t,a){"use strict";a.d(t,"a",(function(){return R}));var n=a("D57K"),i=a("pu3o"),r=a.n(i),o=a("pE6G"),c=a("FWdR"),s=a("nUi0"),u=a("q/oC"),l=a("SpHq"),d=a("cQOC"),p=a("pN2L"),b=a("d9YI"),_=a("HnWI"),g=a("AouM"),O=a("Jg5f"),j=a("W/Ou"),f=a("rzNM"),m=a("U3QC"),y=a("IMYO"),h=a("wUZp"),v=a("0zhb"),A=a("B07F"),S=a("w+fZ"),E=a("l8fx"),L=a("34li"),w=a("pAGl"),P=a("5Iq4"),F=a("0b5n"),k=a("V/Iy"),D=a("Pceu"),C=a("1oQP"),T=a("1JcH"),x=a("MzPZ"),q=a("LAP3"),I=a("PATG");function M(e,t,a){if(!Array.isArray(e)||!e.length)return e;var n=e.findIndex((function(e){return e.email===t}));return Object(I.a)(e,n,a)}a("nDih");var N=a("3PBV"),U=a.n(N);var R=function(e){function t(t,a,i){var r=e.call(this)||this;return r.client=t,r.logger=a,r.axios=i,r.defaultState={user:{loading:!0,username:"",emails:[],socialAccounts:[],phone:"",countryCode:"",usAccount:{synced:!1,transferStatus:L.hc.Created}},updatingUsername:{editing:!1,loading:!1,error:null},updatingEmails:Object(n.__assign)(Object(n.__assign)({},{editing:!1,loading:!1,error:null}),{updatingPrimary:!1}),updatingPhone:{editing:!1,loading:!1,error:null}},r}var a,i,l,I,N,R,W,H,z,B,Y,G,Q,V;return Object(n.__extends)(t,e),t.prototype.toggleUsernameEditor=function(e){return Object(n.__assign)(Object(n.__assign)({},e),{updatingUsername:{editing:!e.updatingUsername.editing,loading:!1,error:null}})},t.prototype.getUserSetting=function(e){var t=this;return e.pipe(Object(g.a)((function(){return Object(d.a)([t.client.query({query:w.a,fetchPolicy:"no-cache"}).pipe(Object(h.a)("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25",!0),Object(O.a)((function(e){return e.data.user}))),t.client.query({query:P.a,fetchPolicy:"no-cache"}).pipe(Object(h.a)("\u83b7\u53d6\u7f8e\u56fd\u7ad9\u8d26\u53f7\u4fe1\u606f\u5931\u8d25",!0),Object(O.a)((function(e){return e.data.userStatus})))]).pipe(Object(O.a)(t.createAction("finish")),Object(j.a)(t.createAction("loading")()))})))},t.prototype.updateUsername=function(e){var t=this;return e.pipe(Object(f.a)((function(e){return t.client.mutate({mutation:F.a,variables:{username:e}}).pipe(Object(h.a)("\u4fee\u6539\u7528\u6237 ID \u5931\u8d25"),Object(O.a)(t.createAction("finish")),Object(j.a)(t.createAction("updating")()))})))},t.prototype.toggleEmailEditor=function(e){return Object(n.__assign)(Object(n.__assign)({},e),{updatingEmails:Object(n.__assign)(Object(n.__assign)({},e.updatingEmails),{editing:!e.updatingEmails.editing})})},t.prototype.createEmail=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.email,n=e.callback;return function(e){return!U()({email:e},{email:{email:!0}})}(a)?t.client.mutate({mutation:k.a,variables:{email:a}}).pipe(Object(h.a)("\u6dfb\u52a0\u90ae\u7bb1\u5931\u8d25"),Object(m.a)((function(e){var t=e.data;t&&t.createEmail&&t.createEmail.ok&&n()})),Object(O.a)(t.createAction("finish")),Object(j.a)(t.createAction("creating")())):Object(p.a)(t.createAction("setEmailWrong")())})))},t.prototype.setPrimaryEmail=function(e){var t=this;return e.pipe(Object(f.a)((function(e){return t.client.mutate({mutation:D.a,variables:{email:e}}).pipe(Object(h.a)("\u8bbe\u7f6e\u4e3b\u90ae\u7bb1\u5931\u8d25",!0),Object(O.a)((function(a){var n=a.data;return t.createAction("finish")({email:e,ok:n&&n.updateEmailPrimary&&n.updateEmailPrimary.ok})})),Object(j.a)(t.createAction("updating")()))})))},t.prototype.deleteEmail=function(e){var t=this;return e.pipe(Object(f.a)((function(e){return t.client.mutate({mutation:C.a,variables:{email:e}}).pipe(Object(h.a)("\u5220\u9664\u90ae\u7bb1\u5931\u8d25",!0),Object(O.a)((function(a){var n=a.data;return t.createAction("finish")({email:e,deleted:n&&n.deleteEmail&&n.deleteEmail.ok})})),Object(j.a)(t.createAction("deleting")(e)))})))},t.prototype.setVerificationEmailSentState=function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)({},e.user),{emails:M(e.user.emails,a.email,{verificationMailSent:a.state,verificationMailEverSent:!0})})})},t.prototype.sendVerificationEmail=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.email,n=e.callback;return t.client.mutate({mutation:T.a,variables:{email:a}}).pipe(Object(h.a)("\u53d1\u9001\u90ae\u7bb1\u9a8c\u8bc1\u5931\u8d25",!0),Object(O.a)((function(e){var i=e.data;return i&&i.sendVerificationEmail&&i.sendVerificationEmail.ok?(n(),t.createActionFrom(t.setVerificationEmailSentState)({email:a,state:!0})):t.createAction("error")()})))})))},t.prototype.togglePhoneEditor=function(e){return Object(n.__assign)(Object(n.__assign)({},e),{updatingPhone:{editing:!e.updatingPhone.editing,loading:!1,error:null}})},t.prototype.sendVerificationSMS=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.input,n=e.callback;return t.axios.post("/api/send_verification_sms/",{data:r.a.stringify(a),headers:{"X-CSRFToken":Object(v.a)()}}).pipe(Object(m.a)((function(){n({ok:!0,error:null})})),Object(y.a)((function(e){return e.response&&e.response.data&&(n({ok:!1,error:e.response.data.Message}),t.logger.error("\u53d1\u9001\u9a8c\u8bc1\u7801\u5931\u8d25",{error:e.response.data.Message})),b.a})),Object(O.a)(t.createAction("finish")))})))},t.prototype.updatePhone=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.input,n=e.callback;return t.axios.post("/api/phone_update/",{data:a,contentType:"application/json",headers:{"X-CSRFToken":Object(v.a)()}}).pipe(Object(m.a)((function(e){e.success&&n({ok:!0,error:null})})),Object(y.a)((function(e){return e.response&&e.response.data&&(t.logger.error("\u66f4\u6539\u624b\u673a\u53f7\u5931\u8d25",{error:e.response.data.error}),n({ok:!1,error:e.response.data.error})),b.a})),Object(O.a)((function(){return t.createAction("finish")({countryCode:a.country_code2||"86",phone:a.phone2})})))})))},t.prototype.validateCode=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.input,n=e.callback;return t.client.mutate({mutation:x.a,variables:a}).pipe(Object(h.a)("\u624b\u673a\u9a8c\u8bc1\u7801\u9a8c\u8bc1\u5931\u8d25",!0),Object(m.a)((function(e){var t=e.data;t&&t.validatePhoneCode&&n&&n(t.validatePhoneCode)})),Object(O.a)(t.createAction("finish")))})))},t.prototype.disconnectSocialAccount=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.provider,n=e.onError;return t.client.mutate({mutation:q.a,variables:{provider:a}}).pipe(Object(h.a)("\u89e3\u9664\u793e\u4ea4\u8d26\u53f7\u5173\u8054\u5931\u8d25"),Object(O.a)((function(e){var i=e.data;if(i&&i.deleteSocial)return!i.deleteSocial.ok&&n(i.deleteSocial.error),t.createAction("finish")({provider:a,ok:i.deleteSocial.ok})})))})))},Object(n.__decorate)([Object(c.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",[Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"toggleUsernameEditor",null),Object(n.__decorate)([Object(s.a)({loading:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)({},e.user),{loading:!0})})},finish:function(e,t){var a,i=t.payload,r=Object(n.__read)(i,2),o=r[0],c=r[1];return Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)(Object(n.__assign)({},e.user),null!==o&&void 0!==o?o:{}),{usAccount:Object(n.__assign)(Object(n.__assign)({},e.user.usAccount),null!==(a=null===c||void 0===c?void 0:c.usAccount)&&void 0!==a?a:{}),loading:!1})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof _.a&&_.a)?a:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"getUserSetting",null),Object(n.__decorate)([Object(s.a)({updating:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{updatingUsername:{loading:!0,error:null,editing:!0}})},finish:function(e,t){var a=t.payload.data.updateUsername;return a&&a.ok?Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)({},e.user),{username:a.username}),updatingUsername:{loading:!1,error:null,editing:!1}}):Object(n.__assign)(Object(n.__assign)({},e),{updatingUsername:{loading:!1,error:a.error||a.warning,editing:!0}})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof _.a&&_.a)?i:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"updateUsername",null),Object(n.__decorate)([Object(c.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",[Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"toggleEmailEditor",null),Object(n.__decorate)([Object(s.a)({setEmailWrong:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{updatingEmails:{loading:!1,editing:!0,error:"\u90ae\u7bb1\u683c\u5f0f\u9519\u8bef"}})},creating:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{updatingEmails:{loading:!0,editing:!0,error:null}})},finish:function(e,t){var a=t.payload.data.createEmail;return a&&a.ok?Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)({},e.user),{emails:e.user.emails.concat(Object(n.__assign)(Object(n.__assign)({},a.email),{verificationMailEverSent:!0,verificationMailSent:!0,newEmail:!0}))}),updatingEmails:{loading:!1,error:null,editing:!0}}):Object(n.__assign)(Object(n.__assign)({},e),{updatingEmails:{loading:!1,error:a.error,editing:!0}})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(l="undefined"!==typeof _.a&&_.a)?l:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"createEmail",null),Object(n.__decorate)([Object(s.a)({updating:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{updatingEmails:Object(n.__assign)(Object(n.__assign)({},e.updatingEmails),{updatingPrimary:!0})})},finish:function(e,t){var a=t.payload,i=e.user.emails;if(a.ok){var r=i.find((function(e){return e.primary}));r&&(i=M(i,r.email,{primary:!1})),i=M(i,a.email,{primary:!0})}return Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)({},e.user),{emails:i}),updatingEmails:Object(n.__assign)(Object(n.__assign)({},e.updatingEmails),{updatingPrimary:!1})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(I="undefined"!==typeof _.a&&_.a)?I:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"setPrimaryEmail",null),Object(n.__decorate)([Object(s.a)({deleting:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)({},e.user),{emails:M(e.user.emails,a,{deleting:!0})})})},finish:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)({},e.user),{emails:M(e.user.emails,a.email,a.deleted?void 0:{deleting:!1})})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(N="undefined"!==typeof _.a&&_.a)?N:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"deleteEmail",null),Object(n.__decorate)([Object(c.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",[Object,"function"===typeof(R="undefined"!==typeof o.Action&&o.Action)?R:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"setVerificationEmailSentState",null),Object(n.__decorate)([Object(s.a)({error:function(e){return e}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(W="undefined"!==typeof _.a&&_.a)?W:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"sendVerificationEmail",null),Object(n.__decorate)([Object(c.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",[Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"togglePhoneEditor",null),Object(n.__decorate)([Object(s.a)({finish:function(e){return e}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(H="undefined"!==typeof _.a&&_.a)?H:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"sendVerificationSMS",null),Object(n.__decorate)([Object(s.a)({finish:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)({},e.user),{countryCode:a.countryCode,phone:a.phone}),updatingPhone:{error:null,loading:!1}})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(z="undefined"!==typeof _.a&&_.a)?z:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"updatePhone",null),Object(n.__decorate)([Object(s.a)({finish:function(e){return e}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(B="undefined"!==typeof _.a&&_.a)?B:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"validateCode",null),Object(n.__decorate)([Object(s.a)({finish:function(e,t){var a=t.payload;return a.ok?Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)({},e.user),{socialAccounts:e.user.socialAccounts.filter((function(e){return e!==a.provider}))})}):e}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(Y="undefined"!==typeof _.a&&_.a)?Y:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"disconnectSocialAccount",null),t=Object(n.__decorate)([Object(u.a)("accountSetting"),Object(n.__metadata)("design:paramtypes",["function"===typeof(G="undefined"!==typeof A.a&&A.a)?G:Object,"function"===typeof(Q="undefined"!==typeof S.a&&S.a)?Q:Object,"function"===typeof(V="undefined"!==typeof E.a&&E.a)?V:Object])],t)}(l.a)},pLYI:function(e,t,a){"use strict";a.r(t);var n,i=a("D57K"),r=(a("Hi6G"),a("edC2"),a("DT1n"),a("Iuju"),a("xQOt"),a("qzOT"),a("5Zow"),a("9AbT"),a("M8rD"),a("5Nzd")),o=a("7xuC"),c=(a("S+Hq"),a("q7mc")),s=a.n(c),u=a("d2jy"),l=a("K/af"),d=a("I5TG"),p=a("BQ33"),b=a.n(p),_=a("9EWH"),g=(a("YVYN"),a("ERkP")),O=a.n(g),j=a("gwLK"),f=a("7nmT"),m=a.n(f),y=a("x+QU"),h=a.n(y),v=a("uDfI"),A=a("fgAA"),S=a("zO7S"),E=a("gd5h"),L=a("7K/1"),w=a("AZgR"),P=a("Qj05"),F=a("q7Y+"),k=a("1kga"),D=(a("kDNs"),a("Mp0c"),a("f7k3")),C=a("zCf4"),T=a("9OUN"),x=a("/i2p"),q=a("w+fZ"),I=a("7naZ"),M=a("xqpu"),N=a("sYqU"),U=a("jIGg"),R=a("Mm5S"),W=a("5J51"),H=a("X4a2"),z=a("dTXi"),B=a("KQty"),Y=a("fisi"),G=a("9KnD"),Q=a("RYJp"),V=a("QnRR"),J=a("ildc"),K=a("pu3o"),Z=a.n(K),$=a("Bamy"),X=a("TMWK"),ee=Object(X.a)("div",{target:"ejahpg10"})({display:"flex",flexDirection:"column",flex:"1 1 auto",width:"100%","&::before":{content:'" "',flex:"0.618 0 30px"},"&::after":{content:'" "',flex:"1 0 30px"}},"label:SignInPageRoot;"),te=Object(X.a)("div",{target:"ejahpg11"})(((n={width:"384px",background:A.a.grey(0),boxShadow:"0px 1px 2px "+A.b.fixed.Black(.1)+", 0px 10px 22px "+A.b.fixed.Black(.16),border:"1px solid "+A.a.grey(3),margin:"0 auto"})[A.c]={background:A.b.BaseGrey3(),boxShadow:"0px 1px 2px "+A.b.fixed.Black(.3)+", 0px 12px 24px "+A.b.fixed.Black(.72)+";"},n),"label:SignInBox;"),ae=Object(D.b)({body:{backgroundImage:"radial-gradient(\n      closest-side at 50% 135%,\n      "+A.a.grey(0)+" 50%,\n      "+A.a.grey(1)+" 100%\n    )"}},"label:globalStyle;"),ne="fake-host",ie=[ne,/leetcode-cn\.com$/,/lingkou\.xyz$/];function re(e){var t=function(){var e=Z.a.parse(window.location.search.substr(1)),t=e.next,a=Object(i.__rest)(e,["next"]),n=Object(C.g)(),r="string"===typeof t?decodeURIComponent(t):"/problems",o=!1;function c(){r="/",o=!0}try{var s;s=r.startsWith("/")?new URL("https://fake-host"+r):new URL(r),ie.some((function(e){return"string"===typeof e?e===s.hostname:e.test(s.hostname)}))||c()}catch(e){c()}return O.a.useEffect((function(){o&&n.replace({search:Z.a.stringify(Object(i.__assign)(Object(i.__assign)({},a),{next:r}))})}),[a,r,n,o]),r}();return O.a.createElement(O.a.Fragment,null,O.a.createElement(G.a,{title:"\u767b\u5f55/\u6ce8\u518c"}),O.a.createElement(D.a,{styles:ae}),O.a.createElement(ee,null,O.a.createElement(te,null,O.a.createElement($.a,Object(i.__assign)({next:t},e)))))}var oe=Object(X.a)("div",{target:"e1gs14p60"})({padding:"66px 15px"},"label:SignInContainer;");function ce(e){var t=Z.a.parse(window.location.search.substr(1)).next,a=void 0===t?"/problems":t;return O.a.createElement(O.a.Fragment,null,O.a.createElement(z.a,null),O.a.createElement(oe,null,O.a.createElement($.a,Object(i.__assign)({next:a},e))))}function se(e){return Object(J.g)()?O.a.createElement(ce,Object(i.__assign)({},e)):O.a.createElement(re,Object(i.__assign)({},e))}var ue=a("6Ltx");function le(){return Object(J.j)()?(window.location.href=Object(ue.c)(H.a.accounts.wechatLoginSuccess),null):O.a.createElement(C.a,{to:H.a.accounts.login})}var de=a("YnR9"),pe=a("wb35"),be=a.n(pe),_e=a("/NrN"),ge=Object(X.a)("div",{target:"e1c43mam0"})({display:"flex",flexDirection:"column",justifyContent:"center"},"label:Container;"),Oe=Object(X.a)("img",{target:"e1c43mam1"})({display:"block",margin:"40px auto 0",width:"120px",height:"120px"},"label:Logo;"),je=Object(X.a)("h1",{target:"e1c43mam2"})({margin:"0",fontWeight:500,fontSize:"28px",lineHeight:"39px",textAlign:"center",color:A.a.grey(8)},"label:Title;"),fe=Object(X.a)("p",{target:"e1c43mam3"})({margin:"12px auto 0",fontSize:"14px",lineHeight:"20px",textAlign:"center",color:A.a.grey(6)},"label:Description;"),me=Object(X.a)(_e.a,{target:"e1c43mam4"})({margin:"40px 32px 20px"},"label:ConfirmButton;");function ye(){return O.a.createElement(ge,null,O.a.createElement(Oe,{src:be.a,alt:"\u529b\u6263 Logo"}),O.a.createElement(je,null,"\u767b\u5f55\u6210\u529f"),O.a.createElement(fe,null,"\u60a8\u5df2\u6210\u529f\u767b\u5f55\u300c\u529b\u6263\u300d\u8d26\u53f7"),O.a.createElement(me,{kind:"primary",size:"lg",href:de.a.legacy.PATH.problems.defaultList},"\u597d\u7684"))}var he=a("Acoi"),ve=(a("F0+H"),a("fgzu")),Ae=a("v31z"),Se=a("nPqx"),Ee=a("005E"),Le=a("aA0Y"),we=a("5PYC"),Pe=a.n(we),Fe=a("Z3gL"),ke=a.n(Fe),De=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={text:"\u7528\u6237\u540d\u5fc5\u987b\u4e3a3~30\u4f4d\u7684\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u6a2a\u7ebf\u6216\u4e0b\u5212\u7ebf\u7ec4\u5408\uff0c\u4e0d\u53ef\u542b\u6709\u4e2d\u6587\u53ca\u7279\u6b8a\u5b57\u7b26\uff0c\u4e14\u4e0d\u53ef\u4ee5\u6a2a\u7ebf\u5f00\u5934\u3002",type:"warning",input:"",disabled:!0,loading:!1},t.client=r.b.getInstanceByToken(E.a.provide),t.$input=O.a.createRef(),t.handleSwitch=function(){window.location.href="/accounts/logout/"},t.handleError=function(e){t.setState({type:"error",text:e})},t.handleSuccess=function(){window.location.href="/"},t.handleConfirm=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:this.setState({loading:!0}),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.client.mutate({mutation:Le.a,variables:{username:this.state.input}})];case 2:return e=a.sent(),this.setState({loading:!1}),e.data&&e.data.updateInvalidUsername&&(e.data.updateInvalidUsername.ok?this.handleSuccess():this.handleError(e.data.updateInvalidUsername.error)),[3,4];case 3:return t=a.sent(),ve.a.error("\u4fee\u6539\u7528\u6237\u540d\u5931\u8d25"),r.b.getInstance(q.a).error("\u4fee\u6539\u7528\u6237\u540d\u5931\u8d25",{errors:t}),[3,4];case 4:return[2]}}))}))},t.onKeyUp=function(e){var a=e.currentTarget.value;t.setState({input:a,disabled:!a||!a.length})},t.renderConfirmFooter=function(){return O.a.createElement("div",{className:ke.a.footer},O.a.createElement(Ae.a,{type:"info",onClick:t.handleSwitch},"\u5207\u6362\u8d26\u53f7"),O.a.createElement(Ae.a,{type:"primary",onClick:t.handleConfirm,disabled:t.state.disabled||t.state.loading},t.state.loading?"\u66f4\u65b0\u4e2d":"\u5b8c\u6210"))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return O.a.createElement("div",{className:ke.a.wrapper},O.a.createElement("div",{className:ke.a.bg},O.a.createElement("span",null),O.a.createElement("span",null),O.a.createElement("span",null),O.a.createElement("span",null),O.a.createElement("span",null)),O.a.createElement(Se.a,{visible:!0,maskClosable:!1,closeIconVisible:!1,onClose:this.handleSwitch,cancelText:"\u5207\u6362\u8d26\u53f7",onOk:this.handleConfirm,okText:this.state.loading?"\u66f4\u65b0\u4e2d":"\u5b8c\u6210",disableOk:this.state.disabled||this.state.loading},O.a.createElement("div",{className:ke.a.logoWrapper},O.a.createElement("img",{src:Pe.a,alt:"LeetCode",className:ke.a.logo})),O.a.createElement("p",null,"\u4e3a\u4e86\u7ed9\u60a8\u5e26\u6765\u66f4\u4f18\u8d28\u7684\u7528\u6237\u4f53\u9a8c\uff0c\u7f51\u7ad9\u5df2\u5b8c\u6210\u5347\u7ea7\u3002\u4e3a\u786e\u4fdd\u60a8\u7684\u6b63\u5e38\u4f7f\u7528\uff0c\u8bf7\u4fee\u6539\u7528\u6237\u540d\u3002"),O.a.createElement(Ee.a,{style:{width:"100%",marginBottom:"10px"},placeholder:"\u65b0\u7528\u6237\u540d",innerRef:this.$input,onKeyUp:this.onKeyUp}),O.a.createElement(he.a,{type:this.state.type,message:this.state.text})))},t}(g.PureComponent),Ce=a("l1SX"),Te=h()({loader:function(){return a.e(50).then(a.bind(null,"9VcX"))},loading:function(){return O.a.createElement(Ce.a,null)},webpack:function(){return["9VcX"]},modules:["brand"]}),xe=function(){return O.a.createElement(Ce.a,null)},qe=h()({loader:function(){return Promise.all([a.e(0),a.e(53)]).then(a.bind(null,"twdI"))},loading:xe,webpack:function(){return["twdI"]},modules:["delete-account-submit"]}),Ie=h()({loader:function(){return Promise.all([a.e(4),a.e(52)]).then(a.bind(null,"7SSH"))},loading:xe,webpack:function(){return["7SSH"]},modules:["delete-account-pending"]}),Me=a("OESz"),Ne=a("uZih"),Ue=a.n(Ne),Re=a("7Pma"),We=a("Nw0q"),He=a("sFz0"),ze=a("4HYP"),Be=a("Jg5f"),Ye=a("tDg9"),Ge=Object(Re.a)("FETCH_GLOBAL_DATA"),Qe=Object(Re.a)("FETCH_GLOBAL_DATA_SUCCESS"),Ve=function(e){return e.pipe(Object(We.a)(""+Ge),Object(ze.a)((function(){return Object(He.a)(Ye.a).fetch()})),Object(Be.a)(Qe))},Je=function(e,t){return void 0===e&&(e=null),t.type===""+Qe?Object(i.__assign)(Object(i.__assign)({},e),Ue()(t.payload,"userStatus")):e},Ke=function(e,t){return void 0===e&&(e=null),t.type===""+Qe?Object(i.__assign)(Object(i.__assign)({},e),t.payload.userStatus):e},Ze=a("fP75"),$e=a("iLOe"),Xe=a("T/5y"),et=Object(D.b)({"#lc-header":{zIndex:1,paddingLeft:"calc(100vw - 100%)"},"#lc-content":{paddingLeft:"calc(100vw - 100%)"},"#lc-footer":{zIndex:-1},body:Object(D.b)(Xe.a.layer0,{fontFamily:$e.b,fontSize:"14px",lineHeight:1.42857143,color:A.a.grey(8)}),a:{"&, &:active, &:hover, &:focus":{color:A.a.blue(5),textDecoration:"none"}},"h1, h2, h3, h4, h5":{color:A.a.grey(8),padding:0,margin:0},".ant-popover-inner-content":{padding:"7px 10px"},"html, body":{height:"100%",overflow:"auto"},"#app":{minHeight:"100%",display:"flex",flexDirection:"column"},"body ::selection":{color:"initial",background:A.a.fix.blue(1)}},"label:baseGlobalStyle;"),tt=Object(D.b)(Ze.a,et,"label:globalStyle;"),at=Object(X.a)("div",{target:"e1925exm0"})({position:"absolute",left:0,right:0,top:0,bottom:0,margin:"auto",width:"300px",height:"150px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},"label:Crash;"),nt=Object(X.a)("div",{target:"e1925exm1"})({flex:"1 1 auto",display:"flex",flexDirection:"column",justifyContent:"space-between",zIndex:0},"label:HomeWrapper;"),it=Object(X.a)("div",{target:"e1925exm2"})({flex:"1 1 auto",display:"flex",flexDirection:"column",zIndex:0},"label:ContentWrapper;"),rt=function(e){var t=e.error;return t&&console.error(t),O.a.createElement(Ce.a,{isBlocking:!0,delayTimeToUpdateLoadingCountInMs:500})},ot=h()({loader:function(){return Promise.all([a.e(0),a.e(2),a.e(3),a.e(7),a.e(5),a.e(6),a.e(9),a.e(8),a.e(17),a.e(1),a.e(63)]).then(a.bind(null,"YlUF"))},loading:rt,webpack:function(){return["YlUF"]},modules:["main-college-contest"]}),ct=h()({loader:function(){return Promise.all([a.e(0),a.e(2),a.e(4),a.e(9),a.e(8),a.e(17),a.e(1),a.e(79)]).then(a.bind(null,"65rt"))},loading:rt,webpack:function(){return["65rt"]},modules:["main-season-contest"]}),st=h()({loader:function(){return Promise.all([a.e(2),a.e(3),a.e(7),a.e(5),a.e(6),a.e(9),a.e(8),a.e(1),a.e(59)]).then(a.bind(null,"eh6c"))},loading:rt,webpack:function(){return["eh6c"]},modules:["main-admin"]}),ut=h()({loader:function(){return Promise.all([a.e(0),a.e(4),a.e(32),a.e(75)]).then(a.bind(null,"xe3o"))},loading:rt,webpack:function(){return["xe3o"]},modules:["main-premium"]}),lt=h()({loader:function(){return Promise.all([a.e(0),a.e(2),a.e(4),a.e(3),a.e(7),a.e(5),a.e(6),a.e(9),a.e(8),a.e(14),a.e(11),a.e(13),a.e(12),a.e(10),a.e(16),a.e(25),a.e(1),a.e(15),a.e(19),a.e(20),a.e(34),a.e(33),a.e(35),a.e(43),a.e(44),a.e(64)]).then(a.bind(null,"i6e9"))},loading:rt,webpack:function(){return["i6e9"]},modules:["main-company-questions"]}),dt=h()({loader:function(){return a.e(74).then(a.bind(null,"Vvx0"))},loading:rt,webpack:function(){return["Vvx0"]},modules:["main-notification"]}),pt=h()({loader:function(){return Promise.all([a.e(0),a.e(2),a.e(13),a.e(17),a.e(39),a.e(40),a.e(1),a.e(35),a.e(71)]).then(a.bind(null,"0TLB"))},loading:rt,webpack:function(){return["0TLB"]},modules:["main-mock-interview"]}),bt=h()({loader:function(){return Promise.all([a.e(0),a.e(2),a.e(4),a.e(18),a.e(23),a.e(3),a.e(9),a.e(8),a.e(14),a.e(11),a.e(12),a.e(10),a.e(17),a.e(16),a.e(28),a.e(24),a.e(30),a.e(31),a.e(26),a.e(29),a.e(1),a.e(21),a.e(22),a.e(37),a.e(36),a.e(72)]).then(a.bind(null,"xZxd"))},loading:rt,webpack:function(){return["xZxd"]},modules:["main-mock-interview-question-detail"]}),_t=[H.a.progress.home,H.a.order.home,H.a.order.detail,H.a.coupons,H.a.profile.part,H.a.session.home],gt=h()({loader:function(){return Promise.all([a.e(0),a.e(2),a.e(4),a.e(38),a.e(1),a.e(87)]).then(a.bind(null,"tw/K"))},loading:rt,webpack:function(){return["tw/K"]},modules:["main-user-center"]}),Ot=h()({loader:function(){return Promise.all([a.e(41),a.e(0),a.e(2),a.e(18),a.e(38),a.e(14),a.e(11),a.e(12),a.e(10),a.e(46),a.e(77)]).then(a.bind(null,"NwVB"))},loading:rt,webpack:function(){return["NwVB"]},modules:["main-public-profile"]}),jt=h()({loader:function(){return Promise.all([a.e(2),a.e(9),a.e(8),a.e(47),a.e(1),a.e(42),a.e(60)]).then(a.bind(null,"I1xa"))},loading:rt,webpack:function(){return["I1xa"]},modules:["main-article-list"]}),ft=h()({loader:function(){return Promise.all([a.e(2),a.e(1),a.e(44),a.e(84)]).then(a.bind(null,"cYYl"))},loading:rt,webpack:function(){return["cYYl"]},modules:["main-tag"]}),mt=h()({loader:function(){return Promise.all([a.e(0),a.e(2),a.e(4),a.e(18),a.e(23),a.e(3),a.e(7),a.e(5),a.e(6),a.e(14),a.e(11),a.e(13),a.e(12),a.e(10),a.e(17),a.e(16),a.e(28),a.e(24),a.e(30),a.e(31),a.e(26),a.e(29),a.e(1),a.e(15),a.e(21),a.e(22),a.e(37),a.e(45),a.e(69)]).then(a.bind(null,"x7XV"))},loading:rt,webpack:function(){return["x7XV"]},modules:["main-library"]}),yt=h()({loader:function(){return Promise.all([a.e(0),a.e(2),a.e(4),a.e(18),a.e(3),a.e(7),a.e(5),a.e(6),a.e(13),a.e(1),a.e(45),a.e(70)]).then(a.bind(null,"S/zb"))},loading:rt,webpack:function(){return["S/zb"]},modules:["main-management"]}),ht=h()({loader:function(){return a.e(80).then(a.bind(null,"QFFS"))},loading:rt,webpack:function(){return["QFFS"]},modules:["main-share"]}),vt=h()({loader:function(){return Promise.all([a.e(2),a.e(66)]).then(a.bind(null,"77Mt"))},loading:rt,webpack:function(){return["77Mt"]},modules:["main-jobs"]}),At=h()({loader:function(){return Promise.all([a.e(0),a.e(2),a.e(4),a.e(9),a.e(8),a.e(14),a.e(11),a.e(12),a.e(10),a.e(17),a.e(16),a.e(47),a.e(1),a.e(19),a.e(20),a.e(22),a.e(36),a.e(42),a.e(46),a.e(78)]).then(a.bind(null,"G6+5"))},loading:rt,webpack:function(){return["G6+5"]},modules:["main-question-detail"]}),St=h()({loader:function(){return a.e(86).then(a.bind(null,"n5dK"))},loading:rt,webpack:function(){return["n5dK"]},modules:["main-transfer-phone"]}),Et=h()({loader:function(){return Promise.all([a.e(0),a.e(2),a.e(4),a.e(18),a.e(23),a.e(3),a.e(7),a.e(5),a.e(6),a.e(9),a.e(8),a.e(14),a.e(11),a.e(13),a.e(12),a.e(10),a.e(17),a.e(16),a.e(28),a.e(24),a.e(30),a.e(31),a.e(26),a.e(29),a.e(39),a.e(40),a.e(1),a.e(15),a.e(19),a.e(21),a.e(22),a.e(36),a.e(67)]).then(a.bind(null,"4nXD"))},loading:rt,webpack:function(){return["4nXD"]},modules:["main-leetbook"]}),Lt=(h()({loader:function(){return Promise.all([a.e(0),a.e(2),a.e(3),a.e(7),a.e(5),a.e(6),a.e(1),a.e(68)]).then(a.bind(null,"4f0X"))},loading:rt,webpack:function(){return["4f0X"]},modules:["main-leetbook-editor"]}),h()({loader:function(){return Promise.all([a.e(0),a.e(4),a.e(14),a.e(11),a.e(12),a.e(10),a.e(39),a.e(40),a.e(1),a.e(33),a.e(32),a.e(65)]).then(a.bind(null,"OMWD"))},loading:rt,webpack:function(){return["OMWD"]},modules:["main-home"]})),wt=h()({loader:function(){return Promise.all([a.e(0),a.e(2),a.e(38),a.e(9),a.e(8),a.e(83)]).then(a.bind(null,"RPBA"))},loading:rt,webpack:function(){return["RPBA"]},modules:["main-submission-detail"]}),Pt=h()({loader:function(){return Promise.all([a.e(0),a.e(2),a.e(4),a.e(3),a.e(7),a.e(5),a.e(6),a.e(1),a.e(76)]).then(a.bind(null,"gWL0"))},loading:rt,webpack:function(){return["gWL0"]},modules:["main-premium-edu-auth"]}),Ft=h()({loader:function(){return Promise.all([a.e(0),a.e(2),a.e(4),a.e(3),a.e(7),a.e(5),a.e(6),a.e(1),a.e(76)]).then(a.bind(null,"yyI/"))},loading:rt,webpack:function(){return["yyI/"]},modules:["main-premium-edu-auth"]}),kt=h()({loader:function(){return Promise.all([a.e(0),a.e(2),a.e(4),a.e(3),a.e(7),a.e(5),a.e(6),a.e(1),a.e(76)]).then(a.bind(null,"DmoS"))},loading:rt,webpack:function(){return["DmoS"]},modules:["main-premium-edu-auth"]}),Dt=h()({loader:function(){return Promise.all([a.e(1),a.e(97)]).then(a.bind(null,"We/f"))},loading:function(){return O.a.createElement(Ce.a,null)},webpack:function(){return["We/f"]},modules:["premium-survey"]});var Ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={error:!1,crashId:"",hasReportedTiming:!1},t.renderGenericView=function(){return O.a.createElement(O.a.Fragment,null,O.a.createElement(z.a,{id:"lc-header"}),O.a.createElement(it,{id:"lc-content"},O.a.createElement(C.d,null,O.a.createElement(C.b,{exact:!0,path:H.a.profile.articles,component:t.renderArticleList}),O.a.createElement(C.b,{exact:!0,path:H.a.accounts.login,component:t.renderSignIn}),O.a.createElement(C.b,{exact:!0,path:H.a.accounts.signup,render:t.renderSignIn}),O.a.createElement(C.b,{exact:!0,path:H.a.profile.deleteAccount.submit,component:qe}),O.a.createElement(C.b,{exact:!0,path:H.a.profile.transferPhone,component:St}),O.a.createElement(C.b,{exact:!0,path:H.a.premium.survey,component:Dt}),O.a.createElement(C.b,{exact:!0,path:H.a.premium.eduAuth,component:Pt}),O.a.createElement(C.b,{path:H.a.premium.home,component:ut}),O.a.createElement(C.b,{path:H.a.discuss.home,component:U.a}),O.a.createElement(C.b,{path:_t,component:gt}),O.a.createElement(C.b,{path:H.a.admin.home,component:t.renderAdminRoute}),O.a.createElement(C.b,{exact:!0,path:H.a.company.home,component:pt}),O.a.createElement(C.b,{path:H.a.company.mockInterviewPages,component:pt}),O.a.createElement(C.b,{exact:!0,path:H.a.company.apply,component:Ft}),O.a.createElement(C.b,{path:H.a.company.questions,render:t.renderCompanyQuestions}),O.a.createElement(C.b,{path:[H.a.jobsClient.home,H.a.jobsClient.homeAlias],component:vt}),O.a.createElement(C.b,{exact:!0,path:H.a.notifications.home,component:dt}),O.a.createElement(C.b,{exact:!0,path:H.a.tags.home,component:ft}),O.a.createElement(C.b,{path:H.a.brand.home,component:Te}),O.a.createElement(C.b,{path:[H.a.publicProfile.home,H.a.publicProfile.homeAlias],component:Ot}),O.a.createElement(C.b,{path:H.a.promoChannel.leetbook,component:kt}),O.a.createElement(C.b,{exact:!0,path:H.a.home,component:Lt}),O.a.createElement(C.b,{component:W.a}))),O.a.createElement(B.a,{id:"lc-footer",utmSource:"main-footer"}))},t.renderAdminRoute=function(){return t.props.userStatus&&t.props.userStatus.isAdmin?O.a.createElement(st,null):O.a.createElement(W.a,null)},t.renderWechatConnectModal=function(){return O.a.createElement(Y.a,{visible:!0})},t.renderArticleList=function(){return O.a.createElement(jt,null)},t.renderSignIn=function(){return t.isSignedIn?t.redirectToProblems():O.a.createElement(se,null)},t.renderCompanyQuestions=function(e){return O.a.createElement(lt,Object(i.__assign)({},e))},t}return Object(i.__extends)(t,e),t.getDerivedStateFromError=function(e){var t=Object(x.a)(e);return r.b.getInstance(q.a).fatal(e,{crashId:t}),{error:!0,crashId:t}},Object.defineProperty(t.prototype,"isSignedIn",{get:function(){return this.props.userStatus&&this.props.userStatus.isSignedIn},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.props.fetchGlobalData(),Object(Me.a)();try{var e=r.b.getInstance(q.a);Object(I.a)().then((function(t){e.info("timing",t)})).catch((function(t){e.error(t)}))}catch(e){console.error(e)}},t.prototype.render=function(){var e=this;return this.state.error?O.a.createElement(at,null,O.a.createElement("h4",null,"Ooops, page crashed"),O.a.createElement("h4",null,O.a.createElement("code",null,"Crash ID: ",this.state.crashId)),O.a.createElement("br",null)):O.a.createElement(M.b,null,O.a.createElement(M.a,null,(function(t){return O.a.createElement(V.a,{user:t},O.a.createElement(G.a,null),O.a.createElement(D.a,{styles:tt}),O.a.createElement(Q.a,null),O.a.createElement(nt,{id:"lc-home"},O.a.createElement(C.d,null,O.a.createElement(C.b,{path:"/wechat/login-connect",component:e.renderWechatConnectModal}),O.a.createElement(C.b,{path:H.a.accounts.wechatFastLogin,render:le}),O.a.createElement(C.b,{path:H.a.accounts.wechatLoginSuccess,render:ye}),O.a.createElement(C.b,{exact:!0,path:H.a.profile.deleteAccount.pending,component:Ie}),O.a.createElement(C.b,{path:H.a.questionDetail.home,component:At}),O.a.createElement(C.b,{path:H.a.contest.submissionDetail,component:wt}),O.a.createElement(C.b,{path:H.a.collegeContest.submissionDetail,component:wt}),O.a.createElement(C.b,{path:H.a.collegeContest.home,component:ot}),O.a.createElement(C.b,{path:H.a.seasonContest.submissionDetail,component:wt}),O.a.createElement(C.b,{path:H.a.seasonContest.home,component:ct}),O.a.createElement(C.b,{exact:!0,path:H.a.company.currentSession,component:bt}),O.a.createElement(C.b,{exact:!0,path:H.a.updateUsername,component:De}),O.a.createElement(C.b,{exact:!0,path:H.a.discuss.writeArticle,component:U.b}),O.a.createElement(C.b,{exact:!0,path:H.a.app,component:R.a}),O.a.createElement(C.b,{exact:!0,path:H.a.interviewLanding,component:R.b}),O.a.createElement(C.b,{path:H.a.repo.home,component:mt}),O.a.createElement(C.b,{path:H.a.management.home,component:yt}),O.a.createElement(C.b,{path:H.a.share.home,component:ht}),O.a.createElement(C.b,{path:H.a.leetbook.home,component:Et}),O.a.createElement(C.b,{exact:!0,path:H.a.submissionDetail.home,component:wt}),O.a.createElement(C.b,{render:e.renderGenericView}))))})))},t.prototype.redirectToProblems=function(){return O.a.createElement(C.a,{to:N.a.problems})},t}(O.a.PureComponent),Tt=Object(v.c)((function(e){return{userStatus:e.userStatus,globalData:e.globalData}}),(function(e){return Object(T.b)({fetchGlobalData:Ge},e)}))(Ct),xt=a("e7Ho"),qt=a("l7/f"),It=a("zWgn"),Mt=a.n(It),Nt=a("XQCc"),Ut=a("d9YI"),Rt=a("IMYO"),Wt=a("Obtf"),Ht=a("KdBw"),zt=a("R3sh"),Bt=a("t0+x"),Yt=a("4YUL"),Gt=a("hlut"),Qt=a("eSY7"),Vt=a("as1A"),Jt=a("zPaN"),Kt=a("8g9W"),Zt=a("zRE0"),$t=a("IcPE"),Xt=function(){var e=Object(Nt.a)(),t=Object(Wt.a)(Ve,Object(Ht.a)(Kt.a,Yt.a,Zt.c,Gt.a,Qt.a,Vt.a,zt.a,Jt.a,Bt.a)),a=Object(i.__assign)(Object(i.__assign)({globalData:Je,userStatus:Ke},Object($t.a)({articleList:Kt.a,solution:Zt.c,collegeContest:Yt.a,accountSetting:Gt.a,labSetting:Qt.a,notificationSetting:Vt.a,client:zt.a,progress:Jt.a,adminTag:Bt.a})),{router:Object(d.b)(xt.a)});var n,o=Object(T.e)(Object(T.c)(a),Object(T.d)(Object(T.a)(Object(qt.a)(xt.a),e),Mt.a));return e.run((n=t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=n.apply(void 0,Object(i.__spread)(e)).pipe(Object(Rt.a)((function(e){return r.b.getInstance(q.a).error(e),Object(Ut.b)()})));return a})),{store:o,history:xt.a}};Object(u.a)(),Object(F.f)({packageNames:[F.a.COMPONENTS,F.a.MODULES],onlyCN:!0}),b.a.locale("zh-cn"),Object(_.c)(),Object(S.a)();var ea=window.__SERVER_RENDERED__?m.a.hydrate:m.a.render,ta=function(e){var t=e.children,a=Object(i.__read)(Object(l.a)(k.a),1)[0];return O.a.createElement(A.d,{includes:["dls","dsw"],mode:a.mode},t)};r.b.overrideProviders({provide:P.a.provide,useValue:xt.a});Promise.all([Object(L.a)(),h.a.preloadReady()]).then((function(){var e,t,a,n,i;e=Tt,t=Xt(),a=t.store,n=t.history,i=r.b.getInstanceByToken(E.a.provide),ea(O.a.createElement(w.a,null,O.a.createElement(ta,null,O.a.createElement(o.a,{locale:s.a},O.a.createElement(v.a,{store:a},O.a.createElement(j.b,{client:i},O.a.createElement(d.a,{history:n},O.a.createElement(e,null))))))),document.querySelector("#app"))}))},"t0+x":function(e,t,a){"use strict";a.d(t,"a",(function(){return Y}));var n,i=a("D57K"),r=a("DuHN"),o=(a("IJu9"),a("FllU")),c=a.n(o),s=a("Ygfp"),u=a.n(s),l=a("pE6G"),d=a("cLgN"),p=a("nUi0"),b=a("FWdR"),_=a("0Spe"),g=a("q/oC"),O=a("SpHq"),j=a("gQst"),f=a("pN2L"),m=a("HnWI"),y=a("rzNM"),h=a("U3QC"),v=a("Jg5f"),A=a("W/Ou"),S=a("R+ki"),E=a("mhnT"),L=a("z5yO"),w=a("eb+u"),P=a("RtDN"),F=a("ZRNH"),k=a("B07F"),D=a("w+fZ"),C=a("wUZp"),T=a("34li"),x=a("fB8b"),q=a("DDXx"),I=a("XJab"),M=a("0tOJ"),N=a("vLiT"),U=a("HYpm"),R=a("kIOu"),W=a("pa3h"),H=a("t81J"),z=a("2yWH"),B=a("3YUb");!function(e){e.Empty="\u8f93\u5165\u4e0d\u80fd\u4e3a\u7a7a",e.Duplicated="\u8f93\u5165\u5df2\u5b58\u5728"}(n||(n={}));var Y=function(e){function t(t,a){var n=e.call(this)||this;return n.client=t,n.logger=a,n.defaultState={loading:!1,tagTypes:[{name:"\u4f01\u4e1a\u6807\u7b7e",type:T.bc.Company},{name:"\u8bdd\u9898\u6807\u7b7e",type:T.bc.Topic}],selectedRows:new Map,list:[],searchedList:[],searchStr:"",questionList:{loading:!0,list:[],company:""},opModal:{key:"",data:{mode:null,name:"",nameError:null,slug:"",slugError:null,keywords:"",id:null,visible:!1,isEnabled:!0,isPublic:!0}},editedTagViaTable:null},n}var a,o,c,s,u,O,Y,Q,V,J,K,Z,$,X,ee,te,ae,ne,ie,re,oe,ce,se,ue,le,de,pe,be,_e;return Object(i.__extends)(t,e),t.prototype.getTagList=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return t.client.query({query:x.a,variables:{tagType:e}}).pipe(Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch tag list error",{errors:a})})),Object(v.a)(t.createAction("finish")),Object(C.a)("fetch tag list http error"),Object(A.a)(t.createAction("loading")()))})))},t.prototype.toggleOneRow=function(e,t){var a=t.payload,n=e.selectedRows;return n.has(a.slug)?n.delete(a.slug):n.set(a.slug,Object(i.__assign)({},a)),Object(i.__assign)(Object(i.__assign)({},e),{selectedRows:new Map(n)})},t.prototype.toggleBatchRows=function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{selectedRows:a.selected?new Map(a.tags.map((function(e){return[e.slug,e]}))):new Map})},t.prototype.closeOneTag=function(e){return e.pipe(Object(v.a)(this.createActionFrom(this.toggleOneRow)))},t.prototype.search=function(e){return Object(j.a)(e.pipe(Object(v.a)(this.createAction("setSearchStr"))),e.pipe(Object(S.a)(500),Object(v.a)(this.createAction("searching")))).pipe(Object(E.a)(this.dispose$))},t.prototype.addTag=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return t.client.mutate({mutation:q.a,variables:{data:Object(i.__assign)({},e)}}).pipe(Object(E.a)(t.dispose$),Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("add tag error",{errors:a})})),Object(h.a)((function(e){var t=e.data;return t.addTag.error&&r.b.error(t.addTag.error)})),Object(L.a)((function(e){var t=e.data;return!e.errors&&!t.addTag.error})),Object(v.a)((function(a){var n=a.data;return t.createAction("finish")({tagId:n.addTag.tagId,param:e})})),Object(C.a)("add tag http error"),Object(A.a)(t.createAction("loading")()))})))},t.prototype.editTag=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return t.client.mutate({mutation:I.a,variables:{data:Object(i.__assign)({},e)}}).pipe(Object(E.a)(t.dispose$),Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("edit tag error",{errors:a})})),Object(h.a)((function(e){var t=e.data;return t.editTag.error&&r.b.error(t.editTag.error)})),Object(L.a)((function(e){var t=e.data;return!e.errors&&!t.editTag.error})),Object(v.a)((function(){return t.createAction("finish")(e)})),Object(C.a)("edit tag http error"),Object(A.a)(t.createAction("loading")()))})))},t.prototype.enableTags=function(e,t){var a=this,n=t.pipe(Object(L.a)((function(e){return!!e.adminTag})),Object(v.a)((function(e){return e.adminTag.selectedRows})));return e.pipe(Object(w.a)(n),Object(v.a)((function(e){var t=Object(i.__read)(e,2),a=(t[0],t[1]);return Object(i.__spread)(a.values()).map((function(e){return e.id}))})),Object(y.a)((function(e){return a.client.mutate({mutation:M.a,variables:{tagIds:e}}).pipe(Object(E.a)(a.dispose$),Object(h.a)((function(e){var t=e.errors;a.logger.if(!!t).error("enable tags error",{errors:t})})),Object(h.a)((function(e){var t=e.data;return t.enableTags.error&&r.b.error(t.enableTags.error)})),Object(L.a)((function(e){var t=e.data;return!e.errors&&!t.enableTags.error})),Object(v.a)((function(){return a.createAction("finish")(e)})),Object(C.a)("enable tags http error"),Object(A.a)(a.createAction("loading")()))})))},t.prototype.deleteTags=function(e,t){var a=this,n=t.pipe(Object(L.a)((function(e){return!!e.adminTag})),Object(v.a)((function(e){return e.adminTag.selectedRows})));return e.pipe(Object(w.a)(n),Object(v.a)((function(e){var t=Object(i.__read)(e,2),a=(t[0],t[1]);return Object(i.__spread)(a.values()).map((function(e){return e.id}))})),Object(y.a)((function(e){return a.client.mutate({mutation:N.a,variables:{tagIds:e}}).pipe(Object(E.a)(a.dispose$),Object(h.a)((function(e){var t=e.errors;a.logger.if(!!t).error("delete tags error",{errors:t})})),Object(h.a)((function(e){var t=e.data;return t.deleteTags.error&&r.b.error(t.deleteTags.error)})),Object(L.a)((function(e){var t=e.data;return!e.errors&&!t.deleteTags.error})),Object(v.a)((function(){return a.createAction("finish")(e)})),Object(C.a)("delete tags http error"),Object(A.a)(a.createAction("loading")()))})))},t.prototype.enableTag=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return t.client.mutate({mutation:M.a,variables:{tagIds:[e]}}).pipe(Object(E.a)(t.dispose$),Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("enable tag error",{errors:a})})),Object(h.a)((function(e){var t=e.data;return t.enableTags.error&&r.b.error(t.enableTags.error)})),Object(L.a)((function(e){var t=e.data;return!e.errors&&!t.enableTags.error})),Object(v.a)((function(){return t.createAction("finish")(e)})),Object(C.a)("enable tag http error"),Object(A.a)(t.createAction("loading")()))})))},t.prototype.deleteTag=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return t.client.mutate({mutation:N.a,variables:{tagIds:e}}).pipe(Object(E.a)(t.dispose$),Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("delete tag error",{errors:a})})),Object(h.a)((function(e){var t=e.data;return t.deleteTags.error&&r.b.error(t.deleteTags.error)})),Object(L.a)((function(e){var t=e.data;return!e.errors&&!t.deleteTags.error})),Object(v.a)((function(){return t.createAction("finish")(e)})),Object(C.a)("delete tag http error"),Object(A.a)(t.createAction("loading")()))})))},t.prototype.toggleOpModal=function(e){return Object(i.__assign)(Object(i.__assign)({},e),{opModal:Object(i.__assign)(Object(i.__assign)({},e.opModal),{data:Object(i.__assign)(Object(i.__assign)({},e.opModal.data),{visible:!e.opModal.data.visible})})})},t.prototype.setOpModalData=function(e){return e.pipe(Object(S.a)(150),Object(v.a)(this.createAction("set")))},t.prototype.mergeTags=function(e,t){var a=this,n=t.pipe(Object(L.a)((function(e){return!!e.adminTag})),Object(v.a)((function(e){return e.adminTag.selectedRows})));return e.pipe(Object(w.a)(n),Object(v.a)((function(e){var t=Object(i.__read)(e,2),a=t[0],n=t[1];return{param:a,tags:Object(i.__spread)(n.values()).map((function(e){return e.id}))}})),Object(y.a)((function(e){var t=e.param,n=e.tags;return a.client.mutate({mutation:U.a,variables:{data:Object(i.__assign)({tags:n},t)}}).pipe(Object(E.a)(a.dispose$),Object(h.a)((function(e){var t=e.errors;a.logger.if(!!t).error("merge tags error",{errors:t})})),Object(h.a)((function(e){var t=e.data;return t.mergeTags.error&&r.b.error(t.mergeTags.error)})),Object(L.a)((function(e){var t=e.data;return!e.errors&&!t.mergeTags.error})),Object(v.a)((function(e){var i=e.data;return a.createAction("finish")({tagId:i.mergeTags.tagId,tags:n,param:t})})),Object(C.a)("merge tags http error"),Object(A.a)(a.createAction("loading")()))})))},t.prototype.create=function(e,t){var a=this,r=t.pipe(Object(v.a)((function(e){return e.adminTag})));return e.pipe(Object(w.a)(r),Object(y.a)((function(e){var t=Object(i.__read)(e,2),r=(t[0],t[1]),o=r.editedTagViaTable,c=r.opModal.data.name.length?G(r,"name",o?[o]:Object(i.__spread)(r.selectedRows.values()))?n.Duplicated:null:n.Empty,s=r.opModal.data.slug.length?G(r,"slug",o?[o]:Object(i.__spread)(r.selectedRows.values()))?n.Duplicated:null:n.Empty;if(c||s||!r.opModal.data.mode)return Object(f.a)(a.createAction("error")({nameError:c,slugError:s}));var u={name:r.opModal.data.name,slug:r.opModal.data.slug,keywords:r.opModal.data.keywords.trim().replace(/\uff0c/g,",").split(",").map((function(e){return e.trim()})),enable:r.opModal.data.isEnabled,isPublic:r.opModal.data.isPublic},l={edit:a.editTag,create:a.addTag,merge:a.mergeTags};return Object(j.a)(Object(f.a)(a.createActionFrom(a.editTagInTable)()),Object(f.a)(a.createActionFrom(l[r.opModal.data.mode])(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},u),"edit"!==r.opModal.data.mode?{tagType:T.bc.Company}:{}),r.opModal.data.id?{id:r.opModal.data.id}:{}))),Object(f.a)(a.createActionFrom(a.setOpModalData)({data:{visible:!1}})))})))},t.prototype.editTagInTable=function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{editedTagViaTable:a||null})},t.prototype.getRelateQuestionList=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return t.client.query({query:R.a,variables:{tagId:e}}).pipe(Object(E.a)(t.dispose$),Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch related questions error",{errors:a})})),Object(v.a)((function(e){var a=e.data;return t.createAction("finish")({questions:a.questionTag.questions,name:a.questionTag.name})})),Object(C.a)("fetch related questions http error"),Object(A.a)(t.createAction("loading")()))})))},t.prototype._checkSyncSucceeded=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return t.client.query({query:W.a,variables:{taskId:e},fetchPolicy:"network-only"}).pipe(Object(C.a)("get syncing interview cards result error"),Object(F.a)({pollWhile:function(e){return!e.data.interviewCreateCardsSucceeded}}),Object(h.a)((function(e){return e.data.interviewCreateCardsSucceeded?r.b.success("\u540c\u6b65\u6210\u529f"):r.b.info("\u540c\u6b65\u4e2d")})),Object(v.a)((function(){return t.createAction("noop")()})),Object(P.a)(t.createActionFrom(t.setLoading)(!1)))})))},t.prototype.onSync=function(e,t){var a=this,n=t.pipe(Object(L.a)((function(e){return!!e.adminTag})),Object(v.a)((function(e){return e.adminTag.selectedRows})));return e.pipe(Object(w.a)(n),Object(y.a)((function(e){var t=Object(i.__read)(e,2),n=(t[0],t[1]);return a.client.mutate({mutation:H.a,variables:{tagIds:n.size?Object(i.__spread)(n.values()).map((function(e){return e.id})):[]}}).pipe(Object(h.a)((function(e){var t=e.data,n=e.errors;t.interviewCreateCards.error&&r.b.error(t.interviewCreateCards.error),a.logger.if(!!n).error("create interview cards error",{errors:n})})),Object(L.a)((function(e){return!e.data.interviewCreateCards.error})),Object(h.a)((function(e){var t,a=e.data;(null===(t=null===a||void 0===a?void 0:a.interviewCreateCards)||void 0===t?void 0:t.taskId)||r.b.error("\u540c\u6b65\u5931\u8d25")})),Object(v.a)((function(e){var t,n=e.data,i=null===(t=null===n||void 0===n?void 0:n.interviewCreateCards)||void 0===t?void 0:t.taskId;return i?a.createActionFrom(a._checkSyncSucceeded)(i):a.createActionFrom(a.setLoading)(!1)})),Object(A.a)(a.createActionFrom(a.setLoading)(!0)))})))},t.prototype.setLoading=function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{loading:a})},t.prototype.uploadLogo=function(e){var t=this;return e.pipe(Object(y.a)((function(e){var a=e.id,n=e.imgUrl;return t.client.mutate({mutation:z.a,variables:{id:a,imgUrl:n}}).pipe(Object(h.a)((function(e){var a=e.data,n=e.errors;a.uploadTagImage.error&&r.b.error(a.uploadTagImage.error),t.logger.if(!!n).error("upload tag image error",{errors:n})})),Object(L.a)((function(e){return!e.data.uploadTagImage.error})),Object(v.a)((function(){return t.createAction("finish")({id:a,imgUrl:n})})),Object(A.a)(t.createActionFrom(t.setLoading)(!0)))})))},t.prototype.togglePublic=function(e){var t=this;return e.pipe(Object(y.a)((function(e){var a=e.id,n=e.isPublic;return t.client.mutate({mutation:B.a,variables:{tagId:a,isPublic:n}}).pipe(Object(h.a)((function(e){var a=e.data,n=e.errors;a.toggleTagIsPublic.error&&r.b.error(a.toggleTagIsPublic.error),t.logger.if(!!n).error("toggle tag public error",{errors:n})})),Object(L.a)((function(e){return!e.data.toggleTagIsPublic.error})),Object(v.a)((function(){return t.createAction("finish")({id:a,isPublic:n})})),Object(A.a)(t.createActionFrom(t.setLoading)(!0)))})))},Object(i.__decorate)([Object(d.a)(),Object(i.__metadata)("design:type","function"===typeof(a="undefined"!==typeof m.a&&m.a)?a:Object)],t.prototype,"dispose$",void 0),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{loading:!0,list:[]})},finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:a.data.questionTagsAdmin||[]})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof m.a&&m.a)?o:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"getTagList",null),Object(i.__decorate)([Object(b.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(c="undefined"!==typeof l.Action&&l.Action)?c:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"toggleOneRow",null),Object(i.__decorate)([Object(b.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(s="undefined"!==typeof l.Action&&l.Action)?s:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"toggleBatchRows",null),Object(i.__decorate)([Object(p.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(u="undefined"!==typeof m.a&&m.a)?u:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"closeOneTag",null),Object(i.__decorate)([Object(p.a)({setSearchStr:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{searchStr:a})},searching:function(e,t){var a=t.payload.toLowerCase();return Object(i.__assign)(Object(i.__assign)({},e),{searchedList:e.list.filter((function(e){return e.id.includes(a)||e.name.toLowerCase().includes(a)||e.pinyin.some((function(e){return e.toLowerCase().includes(a)}))||e.slug.split("-").filter((function(e){return"-"!==e})).join("").includes(a)||e.keywords.some((function(e){return e.toLowerCase().includes(a)}))}))})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(O="undefined"!==typeof m.a&&m.a)?O:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"search",null),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{loading:!0})},finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:Object(i.__spread)([Object(i.__assign)(Object(i.__assign)({},a.param),{id:a.tagId,isEnabled:a.param.enable,createdAt:(new Date).toISOString(),pinyin:[]})],e.list),searchedList:[]})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(Y="undefined"!==typeof m.a&&m.a)?Y:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"addTag",null),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{loading:!0})},finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:e.list.map((function(e){return a.id===e.id?Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},e),a),{isEnabled:a.enable}):e})),searchedList:e.searchedList.map((function(e){return a.id===e.id?Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},e),a),{isEnabled:a.enable}):e}))})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(Q="undefined"!==typeof m.a&&m.a)?Q:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"editTag",null),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{loading:!0})},finish:function(e,t){var a=t.payload,n=new Set(a);return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:e.list.map((function(e){return n.has(e.id)?Object(i.__assign)(Object(i.__assign)({},e),{isEnabled:!0}):e})),searchedList:e.searchedList.length?e.searchedList.map((function(e){return n.has(e.id)?Object(i.__assign)(Object(i.__assign)({},e),{isEnabled:!0}):e})):[],selectedRows:new Map})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(V="undefined"!==typeof m.a&&m.a)?V:Object,"function"===typeof(J="undefined"!==typeof _.a&&_.a)?J:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"enableTags",null),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{loading:!0})},finish:function(e,t){var a=t.payload,n=new Set(a);return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:e.list.filter((function(e){return!n.has(e.id)})),searchedList:e.searchedList.length?e.searchedList.filter((function(e){return!n.has(e.id)})):[],selectedRows:new Map})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(K="undefined"!==typeof m.a&&m.a)?K:Object,"function"===typeof(Z="undefined"!==typeof _.a&&_.a)?Z:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"deleteTags",null),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{loading:!0})},finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:e.list.map((function(e){return e.id===a?Object(i.__assign)(Object(i.__assign)({},e),{isEnabled:!0}):e})),searchedList:e.searchedList.length?e.searchedList.map((function(e){return e.id===a?Object(i.__assign)(Object(i.__assign)({},e),{isEnabled:!0}):e})):[]})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof($="undefined"!==typeof m.a&&m.a)?$:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"enableTag",null),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{loading:!0})},finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:e.list.filter((function(e){return e.id!==a})),searchedList:e.searchedList.length?e.searchedList.filter((function(e){return e.id!==a})):[],selectedRows:new Map})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(X="undefined"!==typeof m.a&&m.a)?X:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"deleteTag",null),Object(i.__decorate)([Object(b.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"toggleOpModal",null),Object(i.__decorate)([Object(p.a)({set:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{opModal:Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},e.opModal),a.key?{key:a.key}:{}),a.data?{data:Object(i.__assign)(Object(i.__assign)({},e.opModal.data),a.data)}:{data:Object(i.__assign)({},e.opModal.data)})})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(ee="undefined"!==typeof m.a&&m.a)?ee:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setOpModalData",null),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{loading:!0})},finish:function(e,t){var a=t.payload,n=new Set(a.tags),r=new Map(e.list.filter((function(e){return!n.has(e.id)||e.id===a.tagId})).map((function(e){return[e.id,e]})));return r.set(a.tagId,Object(i.__assign)(Object(i.__assign)({},r.get(a.tagId)),a.param)),Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:Object(i.__spread)(r).map((function(e){var t=Object(i.__read)(e,2);t[0];return t[1]})),searchedList:[],selectedRows:new Map})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(te="undefined"!==typeof m.a&&m.a)?te:Object,"function"===typeof(ae="undefined"!==typeof _.a&&_.a)?ae:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"mergeTags",null),Object(i.__decorate)([Object(p.a)({error:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{opModal:Object(i.__assign)(Object(i.__assign)({},e.opModal),{data:Object(i.__assign)(Object(i.__assign)({},e.opModal.data),{nameError:a.nameError,slugError:a.slugError})})})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(ne="undefined"!==typeof m.a&&m.a)?ne:Object,"function"===typeof(ie="undefined"!==typeof _.a&&_.a)?ie:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"create",null),Object(i.__decorate)([Object(b.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(re="undefined"!==typeof l.Action&&l.Action)?re:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"editTagInTable",null),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{questionList:{loading:!0,list:[]}})},finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{questionList:{loading:!1,list:Object(i.__spread)(a.questions),company:a.name}})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(oe="undefined"!==typeof m.a&&m.a)?oe:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"getRelateQuestionList",null),Object(i.__decorate)([Object(p.a)({noop:function(e){return e}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(ce="undefined"!==typeof m.a&&m.a)?ce:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"_checkSyncSucceeded",null),Object(i.__decorate)([Object(p.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(se="undefined"!==typeof m.a&&m.a)?se:Object,"function"===typeof(ue="undefined"!==typeof _.a&&_.a)?ue:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"onSync",null),Object(i.__decorate)([Object(b.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(le="undefined"!==typeof l.Action&&l.Action)?le:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setLoading",null),Object(i.__decorate)([Object(p.a)({finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:e.list.map((function(e){return e.id===a.id?Object(i.__assign)(Object(i.__assign)({},e),{imgUrl:a.imgUrl}):e})),searchedList:e.searchedList.map((function(e){return e.id===a.id?Object(i.__assign)(Object(i.__assign)({},e),{imgUrl:a.imgUrl}):e}))})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(de="undefined"!==typeof m.a&&m.a)?de:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"uploadLogo",null),Object(i.__decorate)([Object(p.a)({finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:e.list.map((function(e){return e.id===a.id?Object(i.__assign)(Object(i.__assign)({},e),a):e})),searchedList:e.searchedList.map((function(e){return e.id===a.id?Object(i.__assign)(Object(i.__assign)({},e),a):e}))})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(pe="undefined"!==typeof m.a&&m.a)?pe:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"togglePublic",null),t=Object(i.__decorate)([Object(g.a)("AdminTag"),Object(i.__metadata)("design:paramtypes",["function"===typeof(be="undefined"!==typeof k.a&&k.a)?be:Object,"function"===typeof(_e="undefined"!==typeof D.a&&D.a)?_e:Object])],t)}(O.a);function G(e,t,a){return c()(u()(e.list,a,t),(function(a){return a[t]===e.opModal.data[t]}))>=0}},vcTJ:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));var n=function(e,t){return e+"-"+t},i=function(e){return e.split("-")}},wb35:function(e,t){e.exports="https://static.leetcode-cn.com/cn-mono-assets/production/assets/logo.0b1c6726.svg"},zPaN:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a("D57K"),i=a("cdI6"),r=a.n(i),o=a("pE6G"),c=a("nUi0"),s=a("0Spe"),u=a("FWdR"),l=a("q/oC"),d=a("SpHq"),p=a("HnWI"),b=a("Jg5f"),_=a("eb+u"),g=a("AouM"),O=a("W/Ou"),j=a("rzNM"),f=a("fgAA"),m=a("wUZp"),y=a("B07F"),h=a("34li"),v=a("8HNd"),A=a("VrD7"),S=a("iWg1"),E=a("c17E"),L=a("vcTJ"),w=function(e){function t(t){var a=e.call(this)||this;return a.client=t,a.defaultState={status:E.b.Accepted,questionList:{list:[],totalNum:0,numPerPage:20,current:1,loading:!1,level:[],sorter:{field:h.Tb.LastSubmittedAt,order:h.Ub.Descending},expandedCommitRows:new Set},searchStr:"",searchedList:{list:[],totalNum:0,numPerPage:20,current:1,loading:!1,level:[],sorter:{field:h.Tb.LastSubmittedAt,order:h.Ub.Descending},expandedCommitRows:new Set},commitMap:new Map,countData:{loading:!0,data:null,acceptedCount:0,failedCount:0,untouchedCount:0,numAcSubmissions:0,numSubmissions:0}},a}var a,i,d,w,P,F,k;return Object(n.__extends)(t,e),t.prototype.getQuestions=function(e,t){var a=this,i=t.pipe(Object(b.a)((function(e){return e.progress})));return e.pipe(Object(_.a)(i),Object(b.a)((function(e){var t=Object(n.__read)(e,2),a=t[0],i=t[1];return Object(n.__assign)({numPerPage:i.questionList.numPerPage,pageNum:i.questionList.current,status:i.status,level:i.questionList.level,sorter:i.questionList.sorter,input:i.searchStr},a)})),Object(b.a)((function(e){return Object(n.__assign)(Object(n.__assign)({},e),{filters:e.level.map((function(e){return E.e[e]}))})})),Object(g.a)((function(e){return a.client.query({query:v.a,variables:Object(n.__assign)({status:E.i[e.status],skip:e.numPerPage*(e.pageNum-1),first:e.numPerPage,sortField:e.sorter.field,sortOrder:e.sorter.order,difficulty:e.filters},e.input?{keyword:e.input}:{}),fetchPolicy:"network-only"}).pipe(Object(m.a)("\u83b7\u53d6\u6570\u636e\u9519\u8bef",!0),Object(b.a)((function(t){var n=t.data;return a.createAction("finish")({data:n,param:e})})),Object(O.a)(a.createAction("loading")({param:e})))})))},t.prototype.getCommits=function(e){var t=this;return e.pipe(Object(j.a)((function(e){return t.client.query({query:A.a,variables:{offset:(e.pageNum-1)*e.numPerPage,limit:e.numPerPage,questionSlug:e.questionSlug}}).pipe(Object(m.a)("\u83b7\u53d6\u63d0\u4ea4\u6570\u636e\u5931\u8d25",!0),Object(b.a)((function(a){var n=a.data;return t.createAction("finish")({data:n?n.submissionList:null,param:e})})),Object(O.a)(t.createAction("loading")(e)))})))},t.prototype.getCountData=function(e){var t=this;return e.pipe(Object(g.a)((function(){return t.client.query({query:S.a})})),Object(m.a)("\u83b7\u53d6\u6570\u636e\u9519\u8bef",!0),Object(b.a)(this.createAction("finish")),Object(O.a)(this.createAction("loading")()))},t.prototype.toggleCommitTable=function(e,t){var a=t.payload,i=(e.searchStr?e.searchedList:e.questionList).expandedCommitRows;return i.has(a)?i.delete(a):i.add(a),Object(n.__assign)(Object(n.__assign)({},e),e.searchStr?{searchedList:Object(n.__assign)(Object(n.__assign)({},e.searchedList),{expandedCommitRows:i})}:{questionList:Object(n.__assign)(Object(n.__assign)({},e.questionList),{expandedCommitRows:i})})},Object(n.__decorate)([Object(c.a)({loading:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),a.param.input?{searchedList:Object(n.__assign)(Object(n.__assign)({},e.searchedList),{loading:!0})}:{questionList:Object(n.__assign)(Object(n.__assign)({},e.questionList),{loading:!0})})},finish:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)(Object(n.__assign)({},e),{status:a.param.status,searchStr:a.param.input}),a.param.input?{searchedList:Object(n.__assign)(Object(n.__assign)({},e.searchedList),{list:a.data.userProfileQuestions.questions,totalNum:a.data.userProfileQuestions.totalNum,current:a.param.pageNum,loading:!1,level:a.param.level,sorter:a.param.sorter})}:{questionList:Object(n.__assign)(Object(n.__assign)({},e.questionList),{list:a.data.userProfileQuestions.questions,totalNum:a.data.userProfileQuestions.totalNum,current:a.param.pageNum,loading:!1,level:a.param.level,sorter:a.param.sorter})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof p.a&&p.a)?a:Object,"function"===typeof(i="undefined"!==typeof s.a&&s.a)?i:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"getQuestions",null),Object(n.__decorate)([Object(c.a)({finish:function(e,t){var a=t.payload,i=e.searchStr?e.searchedList.list.find((function(e){return e.titleSlug===a.param.questionSlug})):e.questionList.list.find((function(e){return e.titleSlug===a.param.questionSlug}));if(!a.data||!i)return e;var r={loading:!1,current:a.param.pageNum,questionSlug:a.param.questionSlug,list:Object(n.__spread)(a.data.submissions),totalNum:i.numSubmitted,numPerPage:a.param.numPerPage},o=e.commitMap;return o.set(a.param.questionSlug,r),Object(n.__assign)(Object(n.__assign)(Object(n.__assign)({},e),{commitMap:new Map(o)}),e.searchStr?{searchedList:Object(n.__assign)({},e.searchedList)}:{questionList:Object(n.__assign)({},e.questionList)})},loading:function(e,t){var a=t.payload,i=e.commitMap,r=i.has(a.questionSlug)?Object(n.__assign)(Object(n.__assign)({},i.get(a.questionSlug)),{loading:!0}):{loading:!0,current:a.pageNum,questionSlug:a.questionSlug,list:[],totalNum:0,numPerPage:a.numPerPage};return i.set(a.questionSlug,r),Object(n.__assign)(Object(n.__assign)(Object(n.__assign)({},e),{commitMap:new Map(i)}),e.searchStr?{searchedList:Object(n.__assign)({},e.searchedList)}:{questionList:Object(n.__assign)({},e.questionList)})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(d="undefined"!==typeof p.a&&p.a)?d:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"getCommits",null),Object(n.__decorate)([Object(c.a)({loading:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{countData:Object(n.__assign)(Object(n.__assign)({},e.countData),{loading:!0})})},finish:function(e,t){var a,i=t.payload,o=i.data.userProfileSessionProgress?((a={})[E.b.Accepted]=i.data.userProfileSessionProgress.numAcceptedQuestions,a[E.b.Failed]=i.data.userProfileSessionProgress.numFailedQuestions,a[E.b.Untouched]=i.data.userProfileSessionProgress.numUntouchedQuestions,a):null;if(!o)return e;var c={},s=[],u={id:"\u5168\u90e8",value:0,color:f.a.grey(0),className:"progress-chart-all"};Object.entries(o).forEach((function(e){var t=Object(n.__read)(e,2),a=t[0],i=t[1],r={id:Object(L.b)(a,"\u5168\u90e8"),parent:u.id,value:i.reduce((function(e,t){return e+t.count}),0),color:E.d[a].sum};c[a]=r,s.push.apply(s,Object(n.__spread)(i.map((function(e){var t=e.count,n=e.difficulty;return{id:Object(L.b)(a,E.e[n]),parent:r.id,value:t,color:E.d[a][E.e[n]]}}))))}));var l=Object.values(c);return u.value=l.reduce((function(e,t){return e+t.value}),0),Object(n.__assign)(Object(n.__assign)({},e),{countData:{loading:!1,data:Object(n.__spread)([u],l,r()(s)),numSubmissions:i.data.userProfileSessionProgress.numSubmissions,numAcSubmissions:i.data.userProfileSessionProgress.numAcSubmissions,acceptedCount:c[E.b.Accepted].value,failedCount:c[E.b.Failed].value,untouchedCount:c[E.b.Untouched].value}})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(w="undefined"!==typeof p.a&&p.a)?w:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"getCountData",null),Object(n.__decorate)([Object(u.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(P="undefined"!==typeof ProgressStateProps&&ProgressStateProps)?P:Object,"function"===typeof(F="undefined"!==typeof o.Action&&o.Action)?F:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"toggleCommitTable",null),t=Object(n.__decorate)([Object(l.a)("Progress"),Object(n.__metadata)("design:paramtypes",["function"===typeof(k="undefined"!==typeof y.a&&y.a)?k:Object])],t)}(d.a)},zRE0:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return ce}));var n,i,r=a("D57K"),o=a("DuHN"),c=(a("IJu9"),a("pE6G")),s=a("cLgN"),u=a("nUi0"),l=a("0Spe"),d=a("FWdR"),p=a("q/oC"),b=a("SpHq"),_=a("iJR/"),g=a("gQst"),O=a("pN2L"),j=a("HnWI"),f=a("rzNM"),m=a("Jg5f"),y=a("U3QC"),h=a("4HYP"),v=a("W/Ou"),A=a("Qksx"),S=a("R+ki"),E=a("AouM"),L=a("4S5C"),w=a("eb+u"),P=a("z5yO"),F=a("lqvn"),k=a("mhnT"),D=a("RtDN"),C=a("B07F"),T=a("w+fZ"),x=a("wUZp"),q=a("LgXZ"),I=a("34li"),M=a("e2dj"),N=a("w0hb"),U=a("54Is"),R=a("ChPs"),W=a("wAdY"),H=a("cSvB"),z=a("QpfY"),B=a("sW8v"),Y=a("YrHu"),G=a("cl3B"),Q=a("nLNW"),V=a("mzra"),J=a("eKGS"),K=a("QECw"),Z=a("+syZ"),$=a("NON7"),X=a("SYvJ"),ee=a("cZYK"),te=a("YeJ6"),ae=a("6Yc3"),ne=a("+Gji"),ie=a("Fr7C"),re=a("VxrX");function oe(e,t,a){return Object(r.__assign)(Object(r.__assign)({isPublishSuccessful:!1,isPublishing:!1,isDeleting:!1,editorMode:n.EDIT},t),{savingCount:e,isSynchronized:0===e,articleData:Object(r.__assign)(Object(r.__assign)({status:I.k.Draft,questionSlug:"",title:"",content:"",tags:[],isPicked:!1},t&&t.articleData),a)})}!function(e){e.EDIT="edit",e.PREVIEW="preview",e.FULLSCREEN="fullscreen"}(n||(n={})),function(e){e.NONE="none",e.EDITOR="editor",e.DETAIL="detail",e.WILL_CLOSE_EDITOR="willCloseEditor"}(i||(i={}));var ce=function(e){function t(t,a){var n=e.call(this)||this;return n.client=t,n.logger=a,n.defaultState={columnsExternalImgHostWhitelist:[],solutionAreaShownPart:i.NONE,solutionAreaNextPart:i.NONE,isShowSolutionBar:!1,articleTags:[],solutionEditor:oe(0),users:{},solutions:{articleList:{articles:[],loading:!0,totalNum:0},searchedArticleList:{articles:[],loading:!0,totalNum:0},draftList:{articles:[],loading:!0}},solutionNum:0,solutionDetail:{loading:!0,article:null},adminOperationResult:{slug:null,message:null}},n}var a,b,ce,se,ue,le,de,pe,be,_e,ge,Oe,je,fe,me,ye,he,ve,Ae,Se,Ee,Le,we,Pe,Fe,ke,De,Ce,Te,xe,qe,Ie,Me,Ne,Ue,Re,We,He,ze;return Object(r.__extends)(t,e),t.prototype.getColumnsExternalImgHostWhitelist=function(e){var t=this;return e.pipe(Object(f.a)((function(){return t.client.query({query:M.a})})),Object(m.a)(this.createAction("finish")))},t.prototype.deleteSolutionArticle=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.slug,n=e.callback,i=e.questionSlug;return t.client.mutate({mutation:N.a,variables:{slug:a}}).pipe(Object(y.a)((function(e){var a=e.errors,i=e.data;i&&i.deleteArticle&&i.deleteArticle.ok?(n(),o.b.success("\u5220\u9664\u6210\u529f"),re.a.questionDetail.deleteSolutionArticle({status:"success"})):(o.b.error("\u5220\u9664\u5931\u8d25"),re.a.questionDetail.deleteSolutionArticle({status:"fail"})),t.logger.if(!!a).error("fetch deleteSolutionArticle error",{errors:a})})),Object(h.b)((function(e){var a=e.data,n=e.errors;return Object(_.a)(Object(r.__spread)([t.createAction("finish")({data:a,errors:n})],a&&a.deleteArticle&&a.deleteArticle.ok?[t.createActionFrom(t.getDraftList)(i)]:[]))})),Object(v.a)(t.createAction("beforeDelete")()))})))},t.prototype.publishSolutionArticle=function(e){return this._publish({payload$:e,mutation:U.a})},t.prototype.mockPublishSolutionArticle=function(e){return this._publish({payload$:e,mutation:R.a})},t.prototype.saveSolutionArticleToRemote=function(e){var t=this;return e.pipe(Object(m.a)((function(e){return{slug:e.slug,title:e.title,content:e.content,questionSlug:e.questionSlug,tags:e.tags.map((function(e){return e.slug}))}})),Object(A.b)((function(e){return e.slug})),Object(h.b)((function(e){return e.pipe(Object(S.a)(1e3),Object(E.a)((function(e){return t.client.mutate({mutation:W.a,variables:{data:e}}).pipe(Object(y.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch autoSaveSolutionArticle error",{errors:a})})),Object(m.a)(t.createAction("afterSaving")),Object(v.a)(t.createAction("beforeSaving")(!0)))})),Object(L.a)((function(e,a){return e.type===a.type&&"beforeSaving"===a.type?t.createAction("beforeSaving")(!1):a})))})))},t.prototype.saveSolutionArticle=function(e,t){var a=e.pipe(Object(w.a)(t),Object(m.a)((function(e){var t=Object(r.__read)(e,2),a=t[0],n=t[1];return Object(r.__assign)(Object(r.__assign)({},n.solution.solutionEditor.articleData),a)}))),n=a.pipe(Object(m.a)(this.createAction("saveToLocal"))),i=a.pipe(Object(P.a)((function(e){return e.status===I.k.Draft})),Object(m.a)(this.createActionFrom(this.saveSolutionArticleToRemote)));return Object(g.a)(n,i)},t.prototype.hideSolutionEditor=function(e,t){var a=this,n=e.pipe(Object(m.a)(this.createActionFrom(this.hideSolutionEditorDirectly)),Object(y.a)((function(){return re.a.questionDetail.hideSolutionEditor()}))),i=e.pipe(Object(w.a)(t),Object(m.a)((function(e){var t=Object(r.__read)(e,2);t[0];return t[1].solution.solutionEditor.articleData})),Object(P.a)((function(e){var t=e.slug,a=e.status;return!!t&&a!==I.k.Published&&a!==I.k.Prepublish})),Object(h.b)((function(e){return Object(_.a)([a.createActionFrom(a.saveSolutionArticleToRemote)(e),a.createActionFrom(a.getDraftList)(e.questionSlug)])})));return Object(g.a)(n,i)},t.prototype.hideSolutionEditorDirectly=function(e){return Object(r.__assign)(Object(r.__assign)({},e),{solutionAreaShownPart:e.solutionAreaNextPart,solutionAreaNextPart:i.NONE})},t.prototype.showSolutionEditorForEditingArticle=function(e){var t=this;return e.pipe(Object(E.a)((function(e){return t.client.query({query:H.a,variables:{slug:e},fetchPolicy:"network-only"}).pipe(Object(y.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch solutionArticleToEdit error",{errors:a}),re.a.questionDetail.showSolutionEditorForEditingArticle()})),Object(m.a)((function(a){return t.createAction("restore")({response:a,slug:e})})))})))},t.prototype.showSolutionEditorForCreatingArticle=function(e,t){var a=e.solutionEditor,n=Object(r.__rest)(e,["solutionEditor"]),o=a.savingCount,c=t.payload;return re.a.questionDetail.showSolutionEditorForCreatingArticle(),Object(r.__assign)(Object(r.__assign)({},n),{solutionAreaShownPart:i.EDITOR,solutionEditor:oe(o,{},c)})},t.prototype.switchSolutionEditorMode=function(e,t){var a=e.solutionEditor,i=Object(r.__rest)(e,["solutionEditor"]),o=a.editorMode===n.EDIT?n.PREVIEW:n.EDIT,c=t.payload||o;return re.a.questionDetail.switchToEditorMode({editorMode:c}),Object(r.__assign)(Object(r.__assign)({},i),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},a),{editorMode:c})})},t.prototype.getArticleTags=function(e){var t=this;return e.pipe(Object(S.a)(300),Object(F.a)(),Object(E.a)((function(e){return t.client.query({query:z.a,variables:{query:e},fetchPolicy:"network-only"}).pipe(Object(y.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch article tags error",{errors:a})})),Object(m.a)(t.createAction("finish")))})))},t.prototype.toggleShowSolutionBar=function(e,t){var a=t.payload;return Object(r.__assign)(Object(r.__assign)({},e),{isShowSolutionBar:!!a})},t.prototype.getArticleList=function(e){var t=this;return e.pipe(Object(f.a)((function(e){return t.client.query({query:B.a,variables:e,fetchPolicy:"network-only"}).pipe(Object(y.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch article list error",{errors:a})})),Object(m.a)(t.createAction("finish")),Object(x.a)("fetch article http error"),Object(v.a)(t.createAction("loading")()),Object(k.a)(t.disposeArticleList$))})))},t.prototype.getDraftList=function(e){var t=this;return e.pipe(Object(E.a)((function(e){return t.client.query({query:Y.a,variables:{questionSlug:e},fetchPolicy:"network-only"}).pipe(Object(y.a)((function(e){var a=e.errors;t.logger.if(!!a).error("get draft list error",{errors:a})})),Object(x.a)("get draft list http error"),Object(m.a)(t.createAction("finish")),Object(v.a)(t.createAction("loading")()))})))},t.prototype.getSearchedArticleList=function(e){var t=this;return e.pipe(Object(S.a)(1e3),Object(E.a)((function(e){return t.client.query({query:B.a,variables:e,fetchPolicy:"network-only"}).pipe(Object(y.a)((function(a){var n=a.errors;re.a.questionDetail.solutionListSearch({questionSlug:e.questionSlug}),t.logger.if(!!n).error("fetch article list error",{errors:n})})),Object(m.a)(t.createAction("finish")),Object(x.a)("fetch article http error"),Object(v.a)(t.createAction("loading")()),Object(k.a)(t.disposeArticleList$))})))},t.prototype.upvoteArticle=function(e){var t=this;return e.pipe(Object(S.a)(300),Object(f.a)((function(e){return t.client.mutate({mutation:G.a,variables:{articleSlug:e}}).pipe(Object(y.a)((function(a){var n=a.errors;re.a.questionDetail.upvoteArticle({articleSlug:e}),t.logger.if(!!n).error("upvote an article error",{errors:n})})),Object(h.b)((function(){return Object(O.a)(t.createActionFrom(t.updateArticleList)(e),t.createActionFrom(t.getSolutionListArticle)(e))})),Object(x.a)("upvote an article http error"))})))},t.prototype.cancelUpvoteArticle=function(e){var t=this;return e.pipe(Object(S.a)(300),Object(f.a)((function(e){return t.client.mutate({mutation:Q.a,variables:{articleSlug:e}}).pipe(Object(y.a)((function(a){var n=a.errors;t.logger.if(!!n).error("cancel upvote an article error",{errors:n}),re.a.questionDetail.cancelUpvoteArticle({articleSlug:e})})),Object(h.b)((function(){return Object(O.a)(t.createActionFrom(t.updateArticleList)(e),t.createActionFrom(t.getSolutionListArticle)(e))})),Object(x.a)("cancel upvote an article http error"))})))},t.prototype.addFavoriteArticle=function(e){var t=this;return e.pipe(Object(S.a)(300),Object(f.a)((function(e){return t.client.mutate({mutation:V.a,variables:{data:{articleSlug:e}}}).pipe(Object(y.a)((function(a){var n=a.errors;t.logger.if(!!n).error("mark an article as favorite error",{errors:n}),re.a.questionDetail.addFavoriteArticle({articleSlug:e})})),Object(h.b)((function(){return Object(O.a)(t.createActionFrom(t.updateArticleList)(e),t.createActionFrom(t.getSolutionListArticle)(e))})),Object(x.a)("mark an article as favorite http error"))})))},t.prototype.removeFavoriteArticle=function(e){var t=this;return e.pipe(Object(S.a)(300),Object(f.a)((function(e){return t.client.mutate({mutation:J.a,variables:{data:{articleSlug:e}}}).pipe(Object(y.a)((function(a){var n=a.errors;t.logger.if(!!n).error("unmark an article as favorite error",{errors:n}),re.a.questionDetail.removeFavoriteArticle({articleSlug:e})})),Object(h.b)((function(){return Object(O.a)(t.createActionFrom(t.updateArticleList)(e),t.createActionFrom(t.getSolutionListArticle)(e))})),Object(x.a)("unmark an article as favorite http error"))})))},t.prototype.updateArticleList=function(e){var t=this;return e.pipe(Object(f.a)((function(e){return t.client.query({query:K.a,variables:{slug:e,orderBy:I.Sb.Default},fetchPolicy:"network-only"}).pipe(Object(y.a)((function(e){var a=e.errors;t.logger.if(!!a).error("get an article error",{errors:a})})),Object(x.a)("get an article http error"),Object(m.a)(t.createAction("update")))})))},t.prototype.addReaction=function(e){var t=this;return e.pipe(Object(S.a)(300),Object(f.a)((function(e){var a=e.articleSlug,n=e.articleId,i=e.reactionType;return t.client.mutate({mutation:Z.a,variables:{articleId:n,reactionType:i}}).pipe(Object(y.a)((function(e){var n=e.errors;re.a.questionDetail.addReaction({articleSlug:a,reactionType:i}),t.logger.if(!!n).error("add or update reaction error",{errors:n})})),Object(x.a)("add or update reaction http error"),Object(h.b)((function(){return Object(O.a)(t.createActionFrom(t.updateArticleList)(a),t.createActionFrom(t.getSolutionListArticle)(a))})))})))},t.prototype.removeReaction=function(e){var t=this;return e.pipe(Object(S.a)(300),Object(f.a)((function(e){var a=e.articleSlug,n=e.articleId;return t.client.mutate({mutation:$.a,variables:{articleId:n}}).pipe(Object(y.a)((function(e){var n=e.errors;re.a.questionDetail.removeReaction({articleSlug:a}),t.logger.if(!!n).error("remove reaction error",{errors:n})})),Object(x.a)("remove reaction http error"),Object(h.b)((function(){return Object(O.a)(t.createActionFrom(t.updateArticleList)(a),t.createActionFrom(t.getSolutionListArticle)(a))})))})))},t.prototype.getSolutionCount=function(e){var t=this;return e.pipe(Object(E.a)((function(e){return t.client.query({query:X.a,variables:{questionSlug:e}})})),Object(m.a)(this.createAction("finish")))},t.prototype.getSolutionDetailArticle=function(e){var t=this;return e.pipe(Object(E.a)((function(e){return t.client.query({query:K.a,variables:{slug:e,orderBy:I.Sb.Default},fetchPolicy:"network-only"}).pipe(Object(y.a)((function(a){var n=a.errors;Object(q.a)(t.client,{entityType:I.L.Article,entityId:e}),t.logger.if(!!n).error("get solution article error",{errors:n})})),Object(x.a)("get solution article http error"),Object(m.a)(t.createAction("finish")),Object(v.a)(t.createAction("loading")()))})))},t.prototype.getSolutionListArticle=function(e){var t=this;return e.pipe(Object(E.a)((function(e){return t.client.query({query:ee.a,variables:{slug:e},fetchPolicy:"network-only"}).pipe(Object(y.a)((function(e){var a=e.errors;t.logger.if(!!a).error("get solution list article error",{errors:a})})),Object(x.a)("get solution list article http error"),Object(m.a)(t.createAction("finish")))})))},t.prototype.updateSolutionArticleTag=function(e,t){var a,n,i=t.payload,o=function(e){var t;return e.slug===i.slug?Object(r.__assign)(Object(r.__assign)({},e),((t={})[i.key]=i.value,t)):e},c=e.solutionDetail;return(null===(n=c.article)||void 0===n?void 0:n.slug)===i.slug&&(c=Object(r.__assign)(Object(r.__assign)({},c),{article:Object(r.__assign)(Object(r.__assign)({},c.article),(a={},a[i.key]=i.value,a))})),Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{articleList:Object(r.__assign)(Object(r.__assign)({},e.solutions.articleList),{articles:e.solutions.articleList.articles.map(o)}),searchedArticleList:Object(r.__assign)(Object(r.__assign)({},e.solutions.searchedArticleList),{articles:e.solutions.searchedArticleList.articles.map(o)})}),solutionDetail:c})},t.prototype.setSolutionArticleAsEditorsPick=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.slug,n=e.value;return t.client.mutate({mutation:te.a,variables:{slug:a,value:n}}).pipe(Object(y.a)((function(e){var a=e.errors;t.logger.if(!!a).error("admin mutate solution article as editors-pick error",{errors:a})})),Object(m.a)((function(e){var i=e.data;return e.errors||i.columnsSetArticleAsEditorsPick.error?t.createActionFrom(t.setAdminOperationResult)({slug:a,message:n?"\u8bbe\u4e3a\u7cbe\u9009\u64cd\u4f5c\u5931\u8d25":"\u53d6\u6d88\u8bbe\u4e3a\u7cbe\u9009\u64cd\u4f5c\u5931\u8d25"}):t.createActionFrom(t.updateSolutionArticleTag)({slug:a,value:n,key:"isEditorsPick"})})),Object(x.a)("admin mutate solution article as editors-pick http error"))})))},t.prototype.setSolutionArticleAsOfficial=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.slug,n=e.value;return t.client.mutate({mutation:ae.a,variables:{slug:a,value:n}}).pipe(Object(y.a)((function(e){var a=e.errors;t.logger.if(!!a).error("admin mutate solution article as official error",{errors:a})})),Object(m.a)((function(e){var i=e.data;return e.errors||i.columnsSetArticleAsByLeetCode.error?t.createActionFrom(t.setAdminOperationResult)({slug:a,message:n?"\u8bbe\u4e3a\u5b98\u65b9\u64cd\u4f5c\u5931\u8d25":"\u53d6\u6d88\u8bbe\u4e3a\u5b98\u65b9\u64cd\u4f5c\u5931\u8d25"}):t.createActionFrom(t.updateSolutionArticleTag)({slug:a,value:n,key:"byLeetcode"})})),Object(x.a)("admin mutate solution article as official http error"))})))},t.prototype.setSolutionArticleSink=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.slug,n=e.sunk;return t.client.mutate({mutation:ne.a,variables:{slug:a,sunk:n}}).pipe(Object(y.a)((function(e){var a=e.errors;t.logger.if(!!a).error("admin mutate solution article sunk error",{errors:a})})),Object(m.a)((function(e){return e.errors?t.createActionFrom(t.setAdminOperationResult)({slug:a,message:n?"\u4e0b\u6c89\u5931\u8d25":"\u53d6\u6d88\u4e0b\u6c89\u5931\u8d25"}):t.createActionFrom(t.updateSolutionArticleTag)({slug:a,value:n,key:"sunk"})})),Object(x.a)("\u7f51\u7edc\u9519\u8bef"))})))},t.prototype.setSolutionArticleAsRemoved=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.slug,n=e.value;return t.client.mutate({mutation:ie.a,variables:{slug:a,value:n}}).pipe(Object(y.a)((function(e){var a=e.errors;t.logger.if(!!a).error("admin mutate solution article removed error",{errors:a})})),Object(m.a)((function(e){var i=e.data;return e.errors||i.columnsSetArticleAsRemoved.error?t.createActionFrom(t.setAdminOperationResult)({slug:a,message:n?"\u5220\u9664\u5931\u8d25":"\u6062\u590d\u5220\u9664\u5931\u8d25"}):t.createAction("finish")({slug:a,value:n})})),Object(x.a)("admin mutate solution article removed http error"))})))},t.prototype.setAdminOperationResult=function(e,t){var a=t.payload;return Object(r.__assign)(Object(r.__assign)({},e),{adminOperationResult:Object(r.__assign)({},a)})},t.prototype.resetAdminOperationResult=function(e){return Object(r.__assign)(Object(r.__assign)({},e),{adminOperationResult:{slug:null,message:null}})},t.prototype.setSolutionArticleAsWithdrawed=function(e,t){var a=t.payload;return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{articleList:Object(r.__assign)(Object(r.__assign)({},e.solutions.articleList),{articles:e.solutions.articleList.articles.filter((function(e){return e.slug!==a}))})})})},t.prototype.showSolutionDetail=function(e){var t=e.pipe(Object(P.a)((function(e){return e===i.EDITOR})),Object(m.a)(this.createActionFrom(this.showCloseEditorModal))),a=e.pipe(Object(P.a)((function(e){return e!==i.DETAIL})),Object(m.a)(this.createAction("show")));return Object(g.a)(t,a)},t.prototype.showCloseEditorModal=function(e){return re.a.questionDetail.showCloseEditorModal(),Object(r.__assign)(Object(r.__assign)({},e),{solutionAreaShownPart:i.WILL_CLOSE_EDITOR})},t.prototype.hideCloseEditorModal=function(e){return re.a.questionDetail.hideCloseEditorModal(),Object(r.__assign)(Object(r.__assign)({},e),{solutionAreaShownPart:i.EDITOR,solutionAreaNextPart:i.NONE})},t.prototype._publish=function(e){var t=this,a=e.payload$,n=e.mutation;return a.pipe(Object(E.a)((function(e){return e.pipe(Object(E.a)((function(e){var a=e.data,i=e.callback;return t.client.mutate({mutation:n,variables:{data:a}}).pipe(Object(m.a)((function(e){var t=e.data;if(t){if("publishSolutionArticle"in t)return Object(r.__assign)(Object(r.__assign)({},e),{data:t.publishSolutionArticle});if("officialPublishSolutionArticle"in t)return Object(r.__assign)(Object(r.__assign)({},e),{data:t.officialPublishSolutionArticle})}return Object(r.__assign)(Object(r.__assign)({},e),{data:void 0})})),Object(y.a)((function(e){var a=e.errors,n=e.data;n&&n.ok?(i(n.article.slug),o.b.success("\u53d1\u5e03\u6210\u529f"),re.a.questionDetail.publishSolutionArticle({status:"success"})):(o.b.error("\u53d1\u5e03\u5931\u8d25"),re.a.questionDetail.publishSolutionArticle({status:"fail"})),t.logger.if(!!a).error("fetch publishSolutionArticle error",{errors:a})})),Object(h.b)((function(e){var a=e.errors,n=e.data;return Object(_.a)(Object(r.__spread)([t.createAction("finish")({data:n,errors:a})],n&&n.ok?[t.createActionFrom(t.getDraftList)(n.article.question.questionTitleSlug),t.createActionFrom(t.getSolutionDetailArticle)(n.article.slug)]:[]))})))})),Object(x.a)("\u53d1\u5e03\u9898\u89e3\u5931\u8d25"),Object(v.a)(t.createAction("beforePublish")()),Object(D.a)(t.createAction("afterPublish")()))})))},Object(r.__decorate)([Object(s.a)(),Object(r.__metadata)("design:type","function"===typeof(a="undefined"!==typeof j.a&&j.a)?a:Object)],t.prototype,"disposeArticleList$",void 0),Object(r.__decorate)([Object(s.a)(),Object(r.__metadata)("design:type","function"===typeof(b="undefined"!==typeof j.a&&j.a)?b:Object)],t.prototype,"disposeDraftList$",void 0),Object(r.__decorate)([Object(u.a)({finish:function(e,t){var a=t.payload;return Object(r.__assign)(Object(r.__assign)({},e),{columnsExternalImgHostWhitelist:a.data.columnsExternalImgHostWhitelist})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(ce="undefined"!==typeof j.a&&j.a)?ce:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getColumnsExternalImgHostWhitelist",null),Object(r.__decorate)([Object(u.a)({beforeDelete:function(e){var t=e.solutionEditor,a=Object(r.__rest)(e,["solutionEditor"]);return Object(r.__assign)(Object(r.__assign)({},a),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},t),{isDeleting:!0})})},finish:function(e,t){var a=t.payload,n=e.solutionEditor,i=Object(r.__rest)(e,["solutionEditor"]);return a.data.deleteArticle.ok?Object(r.__assign)(Object(r.__assign)({},i),{solutionEditor:oe(n.savingCount)}):Object(r.__assign)(Object(r.__assign)({},i),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},n),{isDeleting:!1})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(se="undefined"!==typeof j.a&&j.a)?se:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"deleteSolutionArticle",null),Object(r.__decorate)([Object(u.a)({beforePublish:function(e){var t=e.solutionEditor,a=Object(r.__rest)(e,["solutionEditor"]);return Object(r.__assign)(Object(r.__assign)({},a),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},t),{isPublishing:!0,isPublishSuccessful:!1})})},afterPublish:function(e){var t=e.solutionEditor,a=Object(r.__rest)(e,["solutionEditor"]);return Object(r.__assign)(Object(r.__assign)({},a),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},t),{isPublishing:!1})})},finish:function(e,t){var a=t.payload,n=e.solutionEditor,o=Object(r.__rest)(e,["solutionEditor"]);if(a.data.ok)return Object(r.__assign)(Object(r.__assign)({},o),{solutionAreaShownPart:i.DETAIL,solutionEditor:Object(r.__assign)(Object(r.__assign)({},oe(n.savingCount)),{isPublishSuccessful:!0})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(ue="undefined"!==typeof j.a&&j.a)?ue:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"publishSolutionArticle",null),Object(r.__decorate)([Object(u.a)({beforePublish:function(e){var t=e.solutionEditor,a=Object(r.__rest)(e,["solutionEditor"]);return Object(r.__assign)(Object(r.__assign)({},a),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},t),{isPublishing:!0,isPublishSuccessful:!1})})},afterPublish:function(e){var t=e.solutionEditor,a=Object(r.__rest)(e,["solutionEditor"]);return Object(r.__assign)(Object(r.__assign)({},a),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},t),{isPublishing:!1})})},finish:function(e,t){var a=t.payload,n=e.solutionEditor,o=Object(r.__rest)(e,["solutionEditor"]);if(a.data.ok)return Object(r.__assign)(Object(r.__assign)({},o),{solutionAreaShownPart:i.DETAIL,solutionEditor:Object(r.__assign)(Object(r.__assign)({},oe(n.savingCount)),{isPublishSuccessful:!0})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(le="undefined"!==typeof j.a&&j.a)?le:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"mockPublishSolutionArticle",null),Object(r.__decorate)([Object(u.a)({beforeSaving:function(e,t){var a=t.payload,n=e.solutionEditor,i=Object(r.__rest)(e,["solutionEditor"]);return Object(r.__assign)(Object(r.__assign)({},i),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},n),{isSynchronized:!1,savingCount:n.savingCount+(a?1:0)})})},afterSaving:function(e,t){var a=t.payload,n=e.solutionEditor,i=Object(r.__rest)(e,["solutionEditor"]),o=a.data.autoSaveSolutionArticle,c=n.savingCount-1,s=0===c,u=Object(r.__assign)(Object(r.__assign)({},i),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},n),{savingCount:c,isSynchronized:s})});return o&&o.ok&&!n.articleData.slug&&(u.solutionEditor.articleData.slug=o.article.slug),u}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(de="undefined"!==typeof j.a&&j.a)?de:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"saveSolutionArticleToRemote",null),Object(r.__decorate)([Object(u.a)({saveToLocal:function(e,t){var a=t.payload,n=e.solutionEditor,i=Object(r.__rest)(e,["solutionEditor"]);return Object(r.__assign)(Object(r.__assign)({},i),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},n),{isSynchronized:!1,articleData:Object(r.__assign)(Object(r.__assign)({},n.articleData),a)})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(pe="undefined"!==typeof j.a&&j.a)?pe:Object,"function"===typeof(be="undefined"!==typeof l.a&&l.a)?be:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"saveSolutionArticle",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(_e="undefined"!==typeof j.a&&j.a)?_e:Object,"function"===typeof(ge="undefined"!==typeof l.a&&l.a)?ge:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"hideSolutionEditor",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"hideSolutionEditorDirectly",null),Object(r.__decorate)([Object(u.a)({restore:function(e,t){var a=t.payload,n=a.response.data,o=n.solutionArticle,c=n.solutionArticleToEdit,s=a.slug;if(c){var u=c.question,l=c.title,d=c.content,p=c.tags,b=c.isEditorsPick,_=o?o.status:I.k.Draft;return Object(r.__assign)(Object(r.__assign)({},e),{solutionAreaShownPart:i.EDITOR,solutionEditor:oe(e.solutionEditor.savingCount,{},{slug:s,title:l,status:_,content:d,isPicked:b,questionSlug:u.questionTitleSlug,tags:(p||[]).filter((function(e){return!!e}))})})}}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Oe="undefined"!==typeof j.a&&j.a)?Oe:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"showSolutionEditorForEditingArticle",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object,"function"===typeof(je="undefined"!==typeof c.Action&&c.Action)?je:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"showSolutionEditorForCreatingArticle",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object,"function"===typeof(fe="undefined"!==typeof c.Action&&c.Action)?fe:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"switchSolutionEditorMode",null),Object(r.__decorate)([Object(u.a)({finish:function(e,t){var a=(t.payload.data.commonTags||[]).filter(Boolean);return Object(r.__assign)(Object(r.__assign)({},e),{articleTags:a})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(me="undefined"!==typeof j.a&&j.a)?me:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getArticleTags",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object,"function"===typeof(ye="undefined"!==typeof c.Action&&c.Action)?ye:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"toggleShowSolutionBar",null),Object(r.__decorate)([Object(u.a)({loading:function(e){return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{articleList:Object(r.__assign)(Object(r.__assign)({},e.solutions.articleList),{articles:[],loading:!0})})})},finish:function(e,t){var a=t.payload;if(a.errors)return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{articleList:{articles:[],loading:!1,totalNum:0}})});var n=a.data.questionSolutionArticles.edges.map((function(e){return e.node}));return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{articleList:{articles:n,loading:!1,totalNum:a.data.questionSolutionArticles.totalNum}})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(he="undefined"!==typeof j.a&&j.a)?he:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getArticleList",null),Object(r.__decorate)([Object(u.a)({loading:function(e){return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{draftList:{loading:!0,articles:[]}})})},finish:function(e,t){var a=t.payload;return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{draftList:{loading:!1,articles:a.data.solutionDrafts.edges.map((function(e){return e.node})),totalNum:a.data.solutionDrafts.totalNum}})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(ve="undefined"!==typeof j.a&&j.a)?ve:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getDraftList",null),Object(r.__decorate)([Object(u.a)({loading:function(e){return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{searchedArticleList:{articles:[],totalNum:0,loading:!0}})})},finish:function(e,t){var a=t.payload;if(a.errors)return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{searchedArticleList:{articles:[],loading:!1,totalNum:0}})});var n=a.data.questionSolutionArticles.edges.map((function(e){return e.node}));return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{searchedArticleList:{articles:n,loading:!1,totalNum:a.data.questionSolutionArticles.totalNum}})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Ae="undefined"!==typeof j.a&&j.a)?Ae:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getSearchedArticleList",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Se="undefined"!==typeof j.a&&j.a)?Se:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"upvoteArticle",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Ee="undefined"!==typeof j.a&&j.a)?Ee:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"cancelUpvoteArticle",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Le="undefined"!==typeof j.a&&j.a)?Le:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"addFavoriteArticle",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(we="undefined"!==typeof j.a&&j.a)?we:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"removeFavoriteArticle",null),Object(r.__decorate)([Object(u.a)({update:function(e,t){var a,n=t.payload,i=e.solutions.searchedArticleList.articles.length?"searchedArticleList":"articleList";return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),(a={},a[i]=Object(r.__assign)(Object(r.__assign)({},e.solutions[i]),{articles:e.solutions[i].articles.map((function(e){return e.slug===n.data.solutionArticle.slug?n.data.solutionArticle:e}))}),a))})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Pe="undefined"!==typeof j.a&&j.a)?Pe:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"updateArticleList",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Fe="undefined"!==typeof j.a&&j.a)?Fe:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"addReaction",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(ke="undefined"!==typeof j.a&&j.a)?ke:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"removeReaction",null),Object(r.__decorate)([Object(u.a)({finish:function(e,t){var a=t.payload;return Object(r.__assign)(Object(r.__assign)({},e),{solutionNum:a.data.solutionNum})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(De="undefined"!==typeof j.a&&j.a)?De:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getSolutionCount",null),Object(r.__decorate)([Object(u.a)({loading:function(e){return Object(r.__assign)(Object(r.__assign)({},e),{solutionDetail:Object(r.__assign)(Object(r.__assign)({},e.solutionDetail),{loading:!0})})},finish:function(e,t){var a=t.payload;return Object(r.__assign)(Object(r.__assign)({},e),{solutionDetail:Object(r.__assign)(Object(r.__assign)({},e.solutionDetail),{loading:!1,article:a.data.solutionArticle})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Ce="undefined"!==typeof j.a&&j.a)?Ce:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getSolutionDetailArticle",null),Object(r.__decorate)([Object(u.a)({finish:function(e,t){var a=t.payload;return e.solutionDetail.article&&a.data.solutionArticle.slug===e.solutionDetail.article.slug?Object(r.__assign)(Object(r.__assign)({},e),{solutionDetail:Object(r.__assign)(Object(r.__assign)({},e.solutionDetail),{article:Object(r.__assign)(Object(r.__assign)({},e.solutionDetail.article),a.data.solutionArticle)})}):e}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Te="undefined"!==typeof j.a&&j.a)?Te:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getSolutionListArticle",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object,"function"===typeof(xe="undefined"!==typeof c.Action&&c.Action)?xe:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"updateSolutionArticleTag",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(qe="undefined"!==typeof j.a&&j.a)?qe:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setSolutionArticleAsEditorsPick",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Ie="undefined"!==typeof j.a&&j.a)?Ie:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setSolutionArticleAsOfficial",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Me="undefined"!==typeof j.a&&j.a)?Me:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setSolutionArticleSink",null),Object(r.__decorate)([Object(u.a)({finish:function(e,t){var a=t.payload;return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{articleList:Object(r.__assign)(Object(r.__assign)({},e.solutions.articleList),{articles:e.solutions.articleList.articles.map((function(e){return e.slug===a.slug?Object(r.__assign)(Object(r.__assign)({},e),{status:a.value?I.k.Removed:I.k.Published}):e}))})})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Ne="undefined"!==typeof j.a&&j.a)?Ne:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setSolutionArticleAsRemoved",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object,"function"===typeof(Ue="undefined"!==typeof c.Action&&c.Action)?Ue:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setAdminOperationResult",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"resetAdminOperationResult",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object,"function"===typeof(Re="undefined"!==typeof c.Action&&c.Action)?Re:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setSolutionArticleAsWithdrawed",null),Object(r.__decorate)([Object(u.a)({show:function(e){var t=e.solutionAreaShownPart===i.WILL_CLOSE_EDITOR;return Object(r.__assign)(Object(r.__assign)({},e),{solutionAreaNextPart:t?i.DETAIL:i.NONE,solutionAreaShownPart:t?i.WILL_CLOSE_EDITOR:i.DETAIL})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(We="undefined"!==typeof j.a&&j.a)?We:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"showSolutionDetail",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"showCloseEditorModal",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"hideCloseEditorModal",null),t=Object(r.__decorate)([Object(p.a)("Solution"),Object(r.__metadata)("design:paramtypes",["function"===typeof(He="undefined"!==typeof C.a&&C.a)?He:Object,"function"===typeof(ze="undefined"!==typeof T.a&&T.a)?ze:Object])],t)}(b.a)}}]);